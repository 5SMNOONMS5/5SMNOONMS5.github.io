<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>CLS</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://stephenchen.com/"/>
  <updated>2017-08-29T02:54:11.000Z</updated>
  <id>http://stephenchen.com/</id>
  
  <author>
    <name>Stephen Chen</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>code 的相關單字分享</title>
    <link href="http://stephenchen.com/2017/08/29/code-%E7%9A%84%E7%9B%B8%E9%97%9C%E5%96%AE%E5%AD%97%E5%88%86%E4%BA%AB/"/>
    <id>http://stephenchen.com/2017/08/29/code-的相關單字分享/</id>
    <published>2017-08-29T02:51:49.000Z</published>
    <updated>2017-08-29T02:54:11.000Z</updated>
    
    <content type="html"><![CDATA[<p>紀錄平常文章看到覺得意義的單字</p>
<a id="more"></a>
<h1 id="Spaghetti-code"><a href="#Spaghetti-code" class="headerlink" title="Spaghetti code"></a>Spaghetti code</h1><p>直譯：義大利麵代碼</p>
<p>原文：<a href="https://en.wikipedia.org/wiki/Spaghetti_code" target="_blank" rel="external">WIKI</a></p>
<p>大致上：就是貶抑你的 code 寫得很沒有結構，就像義大麵這般的亂</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;紀錄平常文章看到覺得意義的單字&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Git small tracks</title>
    <link href="http://stephenchen.com/2017/08/25/Git-small-tracks/"/>
    <id>http://stephenchen.com/2017/08/25/Git-small-tracks/</id>
    <published>2017-08-25T07:42:10.000Z</published>
    <updated>2017-08-29T02:50:05.000Z</updated>
    
    <content type="html"><![CDATA[<p>Git 小方法</p>
<a id="more"></a> 
<h1 id="一-Git-Clone"><a href="#一-Git-Clone" class="headerlink" title="(一) Git Clone"></a>(一) Git Clone</h1><p>最近公司配了一台新電腦，當要重新 clone 一個專案的時候發現 clone 了超久，於是就找找了兩種小方法。</p>
<ul>
<li>只允許 clone 特定數量的 commits</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">clone</span> --depth &lt;Number&gt; &lt;URL&gt;</div></pre></td></tr></table></figure>
<ul>
<li>單純 clone 特定的 branch </li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">clone</span> -b [BranchName] --single-branch [URL] [FolderName]</div></pre></td></tr></table></figure>
<h1 id="二-Git-LFS"><a href="#二-Git-LFS" class="headerlink" title="(二) Git LFS"></a>(二) Git LFS</h1><p>假如要透過 git 來管理較大檔案(超過 2G)的時候 ex: 比如圖片或者影片…等。這時候我推薦使用 <strong><a href="https://git-lfs.github.com/" target="_blank" rel="external">Git Large File Storage</a></strong>，原理就是在目錄底下存了一個 <strong>pointer file</strong>，指向真正存儲這些檔案的地方，當在 clone 這些檔案的時候 git 會自動 mapping 檔案的所在目的地。</p>
<h4 id="安裝"><a href="#安裝" class="headerlink" title="安裝"></a>安裝</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git lfs install</div></pre></td></tr></table></figure>
<h4 id="指定哪些檔案你要-track-跟蹤的"><a href="#指定哪些檔案你要-track-跟蹤的" class="headerlink" title="指定哪些檔案你要(track)跟蹤的"></a>指定哪些檔案你要(track)跟蹤的</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git lfs track <span class="string">"*.psd"</span></div></pre></td></tr></table></figure>
<p>並且會生成 .gitattributes，記得要 git add 上</p>
<h4 id="然後結束，接著就可以-push-了"><a href="#然後結束，接著就可以-push-了" class="headerlink" title="然後結束，接著就可以 push 了"></a>然後結束，接著就可以 push 了</h4><h1 id="三-Git-Log"><a href="#三-Git-Log" class="headerlink" title="(三) Git Log"></a>(三) Git Log</h1><p>再多人開發的時候，通常會通過拆功能來共同開發，但有一些檔案難免會互相動到，比如 Marco.swift 或者 AppDelegate …等。在我這邊的情境是我想知道在 AppDelegate 哪時候是誰寫了這段 Code，這時候就可以以下指令找出哪幾個 commits 有更改過 AppDelegate.swift。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">log</span> --follow [Path]</div></pre></td></tr></table></figure>
<p>有網友提供了其他解決方案</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">log</span> [Path]</div></pre></td></tr></table></figure>
<p>這兩種唯一不同的地方是當假如 AppDelegate.swift 原本不叫 AppDelegate.swift，而是 AppProtocol.swift 的話那單純只使用 <strong>git log [Path]</strong> 就會沒辦法追蹤。</p>
<p><a href="https://stackoverflow.com/questions/3701404/list-all-commits-for-a-specific-file" target="_blank" rel="external">感謝原文</a></p>
<h1 id="四-SourceTree-統一-commit"><a href="#四-SourceTree-統一-commit" class="headerlink" title="(四) SourceTree 統一 commit"></a>(四) SourceTree 統一 commit</h1><p>在 SourceTree 的偏好設定裡面有一個選項是 Commit Template，在之後每個專案裡面在準備輸入 Commit 紀錄都會出現初始化好的 Commit Template。治療強迫症，是一個不錯的方法來管理整個 Team 的 Commit 規則。</p>
<p><img src="1.png" alt=""></p>
<h1 id="五-SourceTree-repositories-介面也可以透過資料夾區分"><a href="#五-SourceTree-repositories-介面也可以透過資料夾區分" class="headerlink" title="(五) SourceTree repositories 介面也可以透過資料夾區分"></a>(五) SourceTree repositories 介面也可以透過資料夾區分</h1><p><img src="2.png" alt=""></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Git 小方法&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>清理 Mac 垃圾檔案</title>
    <link href="http://stephenchen.com/2017/07/22/%E6%B8%85%E7%90%86-Mac-%E5%9E%83%E5%9C%BE%E6%AA%94%E6%A1%88/"/>
    <id>http://stephenchen.com/2017/07/22/清理-Mac-垃圾檔案/</id>
    <published>2017-07-22T03:53:46.000Z</published>
    <updated>2017-08-18T09:12:01.000Z</updated>
    
    <content type="html"><![CDATA[<p>最近發現 Mac 空間不太足夠，又不太想換新的 Mac，只好用了最土法煉鋼的方式一個一個檢視。這邊紀錄我這次清理 Mac 的步驟，所以之後我就有 SOP 來去清理我的 Mac。</p>
<h1 id="首先先下載能掃描整個硬盤的工具"><a href="#首先先下載能掃描整個硬盤的工具" class="headerlink" title="首先先下載能掃描整個硬盤的工具"></a>首先先下載能掃描整個硬盤的工具</h1><p>隨便一個都可以，只要能掃描就好</p>
<ul>
<li><p><a href="https://www.omnigroup.com/more" target="_blank" rel="external">我個人是用這個 OmniDiskSweeper</a></p>
</li>
<li><p><a href="https://macpaw.com/cleanmymac" target="_blank" rel="external">或者好像很強大的付費軟體</a></p>
</li>
<li><p><a href="https://www.avg.com/en-us/avg-cleaner-for-mac" target="_blank" rel="external">沒用過不知道好不好用的 Avg</a></p>
</li>
</ul>
<h1 id="掃描過後會出現類似的畫面"><a href="#掃描過後會出現類似的畫面" class="headerlink" title="掃描過後會出現類似的畫面"></a>掃描過後會出現類似的畫面</h1><p>在掃描過程中，會等待不少時間這時候可以先清理 垃圾桶 跟 下載的部分</p>
<h4 id="垃圾桶"><a href="#垃圾桶" class="headerlink" title="垃圾桶"></a>垃圾桶</h4><p>首先最直覺的方式就是把垃圾桶清空，當然在清空前順便瀏覽一下哪些檔案是不小心移動進去的，預防刪掉不小心刪掉的文件。</p>
<p><img src="2.png" alt="empty trash "></p>
<h4 id="下載"><a href="#下載" class="headerlink" title="下載"></a>下載</h4><p>再來就是把下載過的檔案刪掉，或者像我是移動到外部的硬碟去保存</p>
<h1 id="開始清理"><a href="#開始清理" class="headerlink" title="開始清理"></a>開始清理</h1><p><img src="1.png" alt="screen"></p>
<p>結束掃描之後會出現類似的圖片，因為我比較沒時間一個一個資料夾去研究，所以我就會先針對比較大的去研究，比如像是 User, Applications, Library, private, System 底下去研究。</p>
<h1 id="盡量別手動-tmp-private-var-底下的資料夾"><a href="#盡量別手動-tmp-private-var-底下的資料夾" class="headerlink" title="盡量別手動 /tmp, /private, /var 底下的資料夾"></a>盡量別手動 /tmp, /private, /var 底下的資料夾</h1><p><a href="http://osxdaily.com/2016/01/13/delete-temporary-items-private-var-folders-mac-os-x/" target="_blank" rel="external">根據</a>，如果你手動刪除或者修正的話會有機率出現崩潰或者奇怪的問題，但檔案又這麼大又不能手動很兩難那該怎辦？正確的做法是 重開機 ， 讓 OS 內建的方法去清理。</p>
<h4 id="補充-private-var-vm-sleepimage"><a href="#補充-private-var-vm-sleepimage" class="headerlink" title="補充 private/var/vm/sleepimage"></a>補充 private/var/vm/sleepimage</h4><blockquote>
<p>#補充<br>在 private/var/vm/sleepimage 有一個 Sleepimage，這簡單來說就是當電腦進入睡眠狀態，會把當前在 RAM 記憶體儲存下面，方便在下次使用的時候可以回復之前的狀態。所以假如當前 RAM 有 2G 的記憶體量，那就會有 2G 的 sleepimage 檔案。</p>
</blockquote>
<p><a href="http://osxdaily.com/2010/10/11/sleepimage-mac/" target="_blank" rel="external">More detail of sleepimage</a></p>
<h1 id="手動刪除緩存"><a href="#手動刪除緩存" class="headerlink" title="手動刪除緩存"></a>手動刪除緩存</h1><p>很多應用程式都會有緩存，比如 Chrome 開了一個月，那這緩存量一定非常驚人，這時候可以把 Chrome 關閉（整個關閉喔）就可以把緩存刪除，或者你可以手動刪除緩存</p>
<p><img src="3.png" alt=""></p>
<p><a href="http://osxdaily.com/2011/12/08/delete-user-caches-in-mac-os-x/" target="_blank" rel="external">More detail of clean cache</a></p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>又省了一筆錢買 Mac ， 或者可以 Donate 給我呦 &gt;&lt;…</p>
<h1 id="推薦網站"><a href="#推薦網站" class="headerlink" title="推薦網站"></a>推薦網站</h1><p><a href="http://osxdaily.com/2012/11/11/tips-free-up-disk-space-mac-os-x/" target="_blank" rel="external">OSX Daily</a></p>
<h1 id="2017-08-18-Update"><a href="#2017-08-18-Update" class="headerlink" title="2017.08.18 Update"></a>2017.08.18 Update</h1><p>根據<a href="http://osxdaily.com/2012/02/20/clear-versions-history-auto-save-cache-data-in-mac-os-x/" target="_blank" rel="external">這裏</a>，新版的 Mac 會 Versions feature 跟 Auto-Save 的功能，可以讓你自動回覆到之前的檔案的狀態透過序列的方式。但他會在 / 底下產生這個資料夾來記錄電腦的檔案狀態。</p>
<p><img src="4.png" alt="screen"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/.DocumentRevisions-V100/</div></pre></td></tr></table></figure>
<p>如果你覺得你不需要上列的舊版本你可以打開終端機刪除 </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo rm -rf .DocumentRevisions-V100</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;最近發現 Mac 空間不太足夠，又不太想換新的 Mac，只好用了最土法煉鋼的方式一個一個檢視。這邊紀錄我這次清理 Mac 的步驟，所以之後我就有 SOP 來去清理我的 Mac。&lt;/p&gt;
&lt;h1 id=&quot;首先先下載能掃描整個硬盤的工具&quot;&gt;&lt;a href=&quot;#首先先下載能掃描整
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Xcode Visual Memory View Debugger</title>
    <link href="http://stephenchen.com/2017/07/11/Xcode-Visual-Memory-View-Debugger/"/>
    <id>http://stephenchen.com/2017/07/11/Xcode-Visual-Memory-View-Debugger/</id>
    <published>2017-07-11T04:32:45.000Z</published>
    <updated>2017-07-11T08:48:07.000Z</updated>
    
    <content type="html"><![CDATA[<p>Useful tool for debug memory leak in iOS</p>
<h1 id="Download-the-porject"><a href="#Download-the-porject" class="headerlink" title="Download the porject"></a>Download the porject</h1><p>I deliberately set memory leaks into below small project.</p>
<p><a href="https://github.com/5SMNOONMS5/xcode_visual_memory_view_debugger" target="_blank" rel="external">Source file</a>,</p>
<p><a href="https://github.com/5SMNOONMS5/xcode_visual_memory_view_debugger/archive/master.zip" target="_blank" rel="external">Download</a>.</p>
<p>For this project I just make a simple UITableView with two cells, first one is common <strong>strong retain cycle</strong> and second one is <strong>closure retain cycle</strong>.</p>
<h1 id="Run-the-project"><a href="#Run-the-project" class="headerlink" title="Run the project"></a>Run the project</h1><p><img src="1.gif" alt="project animation"></p>
<h1 id="Press-the-Debug-View-Graph"><a href="#Press-the-Debug-View-Graph" class="headerlink" title="Press the [Debug View Graph ]"></a>Press the [Debug View Graph ]</h1><p><img src="6.png" alt="Press the Debug View Graph "></p>
<h1 id="Press-the-Show-the-issue-navigator-in-project-navigator"><a href="#Press-the-Show-the-issue-navigator-in-project-navigator" class="headerlink" title="Press the [Show the issue navigator] in project navigator"></a>Press the [Show the issue navigator] in project navigator</h1><p><img src="7.png" alt="Show the issue navigator"></p>
<p>You will see what cause the retain cycle. It’s very easy to diagnosis of memory leak, so now is your time to fix it haha.</p>
<h1 id="How-to-solve"><a href="#How-to-solve" class="headerlink" title="How to solve"></a>How to solve</h1><p>First one is very easy, just set one of the both to weak reference.</p>
<p>Second one I will let this <a href="https://medium.com/compileswift/understanding-memory-leaks-in-closures-48207214cba" target="_blank" rel="external">article</a> explain to you.</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Useful tool for debug memory leak in iOS&lt;/p&gt;
&lt;h1 id=&quot;Download-the-porject&quot;&gt;&lt;a href=&quot;#Download-the-porject&quot; class=&quot;headerlink&quot; title=&quot;Down
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Http Mine types</title>
    <link href="http://stephenchen.com/2017/07/02/Http-Mine-types/"/>
    <id>http://stephenchen.com/2017/07/02/Http-Mine-types/</id>
    <published>2017-07-02T04:35:59.000Z</published>
    <updated>2017-07-02T09:44:16.000Z</updated>
    
    <content type="html"><![CDATA[<p>翻譯<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types" target="_blank" rel="external">原文</a></p>
<a id="more"></a>
<h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>MIME type 說穿了就是一種機制用來表示當前用戶端傳送哪種類型的檔案，對於 web 來說副檔名並沒有任何的意義，然而最重要的是伺服器那邊也要正確的設定好，瀏覽器通常會使用 MIME type 去判斷當前接收到哪種類型的檔案。</p>
<p>當然 也有其他種方式去判斷此種檔案是什麼類型</p>
<ul>
<li><p>在微軟的作業系統，副檔名有時候也有助於判斷，但在其他的作業系統特別是在 Linux 跟 Mac OS，副檔名有時候並不是這麼可靠。</p>
</li>
<li><p>神奇的數字(不知道有沒有更好的翻譯)，在某些不同種類的檔案他會有一些規則可以去推斷當前是什麼種類的檔案，比如 GIF 檔會從 47 49 46 38 (16進制)開頭，PNG 檔案會從 89 50 4E 47 (16進制)開頭，但是還是會依照不同的系統有所差別，並不是100％的保證。</p>
</li>
</ul>
<p>在web的世界，必須仔細警慎的設定 MIME type，瀏覽器跟伺服器通常會透過 <strong>神奇的數字</strong> 又或者是 <strong>副檔名</strong> 來定義 MIME type ，又或者透過其他的相關性來判斷正確的 MIME type 當只有 <strong>generic type</strong> 的時候。</p>
<h1 id="Syntax"><a href="#Syntax" class="headerlink" title="Syntax"></a>Syntax</h1><p>語法非常簡單，在 / 的左邊是大類，/ 的右邊是子類。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">type/subtype</div></pre></td></tr></table></figure>
<p>Example</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">text/plain</div><div class="line">text/html</div><div class="line">image/jpeg</div><div class="line">image/png</div><div class="line">audio/mpeg</div><div class="line">audio/ogg</div><div class="line">audio/*</div><div class="line">video/mp4</div><div class="line">application/octet-stream</div></pre></td></tr></table></figure>
<p>對於只有文字的檔案就用 <strong>text/plain</strong><br>對於只有二進制的檔案就用 <strong>application/octet-stream</strong></p>
<h1 id="Multipart-types"><a href="#Multipart-types" class="headerlink" title="Multipart types"></a>Multipart types</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">multipart/form-data</div><div class="line">multipart/byteranges</div></pre></td></tr></table></figure>
<p>當你的檔案有很多不同類型的部分，這時候就可以使用 <strong>Multipart types</strong>。而 <strong>multipart/form-data</strong> 常被用在 HTML Forms 跟 HTTP POST ， <strong>multipart/byteranges</strong> 則是用來連接 Http 206 Partial Content 到一個特定的子集。HTTP</p>
<blockquote>
<p>Http 206 Partial Content = 當下載檔案或者影片的時候，客戶端跟 server 說要下載的範圍 Range，我要這段檔案的前面 2M 的 bytes，這時候 Server 就會回傳給你了。</p>
</blockquote>
<h1 id="multipart-form-data-介紹"><a href="#multipart-form-data-介紹" class="headerlink" title="multipart/form-data 介紹"></a>multipart/form-data 介紹</h1><p>當在使用 HTML FORM 傳送複雜表單的時候會使用 <strong>multipart/form-data</strong>，並透過 boundary 分隔符 (一長串的字串，開頭會從 - - 開始) 來區分每種不同型態的資料，每一個區塊都是一塊實體並且擁有自己的 HTTP headers，Content-Disposition 和 Content-Type。順帶補充一下，當 boundary 被當作分隔符來使用，通常會忽略 <strong>Content-Length</strong> 。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">Content-Type: multipart/form-data; boundary=aBoundaryString</div><div class="line">(other headers associated with the multipart document as a whole)</div><div class="line"></div><div class="line">--aBoundaryString</div><div class="line">Content-Disposition: form-data; name=&quot;myFile&quot;; filename=&quot;img.jpg&quot;</div><div class="line">Content-Type: image/jpeg</div><div class="line"></div><div class="line">(data)</div><div class="line">--aBoundaryString</div><div class="line">Content-Disposition: form-data; name=&quot;myField&quot;</div><div class="line"></div><div class="line">(data)</div><div class="line">--aBoundaryString</div><div class="line">(more subparts)</div><div class="line">--aBoundaryString--</div></pre></td></tr></table></figure>
<p>再舉一個例子，當我要傳送下列的表單</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"http://localhost:8000/"</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">enctype</span>=<span class="string">"multipart/form-data"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"myTextField"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"myCheckBox"</span>&gt;</span>Check<span class="tag">&lt;/<span class="name">input</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"myFile"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">button</span>&gt;</span>Send the file<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></div></pre></td></tr></table></figure>
<p>在 http 就會這樣顯示</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">POST / HTTP/1.1</div><div class="line">Host: localhost:8000</div><div class="line">User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.9; rv:50.0) Gecko/20100101 Firefox/50.0</div><div class="line">Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8</div><div class="line">Accept-Language: en-US,en;q=0.5</div><div class="line">Accept-Encoding: gzip, deflate</div><div class="line">Connection: keep-alive</div><div class="line">Upgrade-Insecure-Requests: 1</div><div class="line">Content-Type: multipart/form-data; boundary=---------------------------8721656041911415653955004498</div><div class="line">Content-Length: 465</div><div class="line"></div><div class="line">-----------------------------8721656041911415653955004498</div><div class="line">Content-Disposition: form-data; name=&quot;myTextField&quot;</div><div class="line"></div><div class="line">Test</div><div class="line">-----------------------------8721656041911415653955004498</div><div class="line">Content-Disposition: form-data; name=&quot;myCheckBox&quot;</div><div class="line"></div><div class="line">on</div><div class="line">-----------------------------8721656041911415653955004498</div><div class="line">Content-Disposition: form-data; name=&quot;myFile&quot;; filename=&quot;test.txt&quot;</div><div class="line">Content-Type: text/plain</div><div class="line"></div><div class="line">Simple file.</div><div class="line">-----------------------------8721656041911415653955004498--</div></pre></td></tr></table></figure>
<h1 id="multipart-byteranges-介紹"><a href="#multipart-byteranges-介紹" class="headerlink" title="multipart/byteranges 介紹"></a>multipart/byteranges 介紹</h1><p>而 <strong>multipart/byteranges</strong> 則用在當 Server 只回傳部分的資料給瀏覽器。當 Server 傳送 http 206 Partial Content，瀏覽器會知道 A 檔案將會由 A1,A2,A3,A4 所組成，A1 是在 A 的 0~25%，A2 是 A 的 25~50%，跟其他的 multipart types 一樣，也會透過 boundary 分隔符來區分，一樣也擁有 HTTP headers，Content-Disposition 和 Content-Type。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">HTTP/1.1 206 Partial Content</div><div class="line">Accept-Ranges: bytes</div><div class="line">Content-Type: multipart/byteranges; boundary=3d6b6a416f9b5</div><div class="line">Content-Length: 385</div><div class="line"></div><div class="line">--3d6b6a416f9b5</div><div class="line">Content-Type: text/html</div><div class="line">Content-Range: bytes 100-200/1270</div><div class="line"></div><div class="line">eta http-equiv=&quot;Content-type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;</div><div class="line">    &lt;meta name=&quot;vieport&quot; content</div><div class="line">--3d6b6a416f9b5</div><div class="line">Content-Type: text/html</div><div class="line">Content-Range: bytes 300-400/1270</div><div class="line"></div><div class="line">-color: #f0f0f2;</div><div class="line">        margin: 0;</div><div class="line">        padding: 0;</div><div class="line">        font-family: &quot;Open Sans&quot;, &quot;Helvetica</div><div class="line">--3d6b6a416f9b5--</div></pre></td></tr></table></figure>
<h1 id="MIME-sniffing"><a href="#MIME-sniffing" class="headerlink" title="MIME sniffing"></a>MIME sniffing</h1><p>如果忘記設定 MIME type，或者瀏覽器認為你設定錯誤的 MIME type，瀏覽器將會進行 MIME sniffing，就是開始猜測你的檔案是什麼種類，每個瀏覽器就會有不一樣的結果。但是如果交給瀏覽器設置會有安全上的問題。</p>
<p><a href="https://www.keycdn.com/support/what-is-mime-sniffing/" target="_blank" rel="external">更深一層的了解 MIME sniffing</a></p>
<h1 id="結論就是，設定對的-Mine-type-非常重要"><a href="#結論就是，設定對的-Mine-type-非常重要" class="headerlink" title="結論就是，設定對的 Mine type 非常重要"></a>結論就是，設定對的 Mine type 非常重要</h1>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;翻譯&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>iOS 是如何讓 Pixels 顯示在螢幕</title>
    <link href="http://stephenchen.com/2017/06/22/%E4%B8%80%E4%BA%9B%E5%BF%83%E5%BE%97%E5%B0%8D%E6%96%BC-iOS-%E6%98%AF%E5%A6%82%E4%BD%95%E8%AE%93Pixels-%E9%A1%AF%E7%A4%BA%E5%9C%A8%E8%9E%A2%E5%B9%95/"/>
    <id>http://stephenchen.com/2017/06/22/一些心得對於-iOS-是如何讓Pixels-顯示在螢幕/</id>
    <published>2017-06-22T13:05:08.000Z</published>
    <updated>2017-07-10T08:02:52.000Z</updated>
    
    <content type="html"><![CDATA[<p>Pixels on iOS Screen</p>
<a id="more"></a>
<h1 id="介紹"><a href="#介紹" class="headerlink" title="介紹"></a>介紹</h1><p>最近對於專案在進行優化，突然發現收藏在自己老久遠的文章清單裡面關於 UI 的效能問題，於是就有這篇心得文＋翻譯文了：）。</p>
<h1 id="使用時期"><a href="#使用時期" class="headerlink" title="使用時期"></a>使用時期</h1><p>其實很後悔太晚看這些文章，因為在規劃一項 App 之前，大部分都會跟設計師討論整體流程以及架構，這時候一定都會思考要如何架構整支 APP、Git 該如何分、如何跟後端合作以及該使用哪些套件…等。也許這時候可以再多思考一個問題，那也就是 UI 效能問題。如果 App 有涉及到很大量的 shadow，rounded corner or mask 的效果的時候更是需要去思考這問題。</p>
<h1 id="So"><a href="#So" class="headerlink" title="So"></a>So</h1><h1 id="Graphics-Stack"><a href="#Graphics-Stack" class="headerlink" title="Graphics Stack"></a>Graphics Stack</h1><p>首先 pixel 是如何出現的螢幕上。一個 pixel 是由光的三元素 紅 綠 藍所組成，透過各個不同的亮度來組合成不同的顏色。由 iPhone 5 舉例來說，螢幕是由 1,136 × 640 = 727,040 pixels = 2,181,120 color cells  所構成的，當你滑動手機的時候，螢幕會對這 2,181,120 個 color cells 進行每秒 60 次的更新，每次更新都會刷新每一個 color cell 的強度。</p>
<h1 id="The-Software-Components"><a href="#The-Software-Components" class="headerlink" title="The Software Components"></a>The Software Components</h1><p><img src="https://www.objc.io/images/issue-3/pixels-software-stack@2x-1ae69f5a.png" alt="Image"></p>
<ul>
<li><p>圖形處理器 GPU (graphics processing unit.) 顧名思義就是專門來處理繪圖運算</p>
</li>
<li><p>而 GPU Driver 是一些 Code 專門統一各種類型的 GPU 然後在給他的上一層 OpenGL / OpenGL ES.</p>
</li>
<li><p>OpenGL 則專門在製作 2D 跟 3D 繪圖</p>
</li>
<li><p>在 OpenGL 之上則是 Core Animation，UIKit 的基礎</p>
</li>
</ul>
<p>而要呈現 pixels，說穿了最重要的關鍵角色還是 GPU，在硬體的世界 GPU 跟 CPU 透過匯流排來連接彼此，<br>同時有很多 frameworks 像是 OpenGL, Core Animation 和 Core Graphics 都必須在 GPU 還有 CPU 兩者來回之間編排。為了讓螢幕可以呈現 pixels，有些工作會在 CPU 上面被完成，然後 data 會被轉到 GPU 然後處理在呈現到螢幕上。</p>
<h1 id="The-Hardware-Players"><a href="#The-Hardware-Players" class="headerlink" title="The Hardware Players"></a>The Hardware Players</h1><p>未完成…….待續….</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Pixels on iOS Screen&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Protocol Buffers on iOS</title>
    <link href="http://stephenchen.com/2017/05/24/Protocol-Buffers-on-iOS/"/>
    <id>http://stephenchen.com/2017/05/24/Protocol-Buffers-on-iOS/</id>
    <published>2017-05-24T08:05:55.000Z</published>
    <updated>2017-07-10T08:03:01.000Z</updated>
    
    <content type="html"><![CDATA[<p>實作 Protocol Buffers on iOS 與本地端 python service， <a href="https://www.raywenderlich.com/149335/introduction-protocol-buffers-ios" target="_blank" rel="external">原文出處</a></p>
<a id="more"></a>
<p>這陣子忙完了終於有機會可以來嘗試由 Google 推出的 <a href="https://developers.google.com/protocol-buffers/" target="_blank" rel="external">Protocol Buffers</a>，如果您是新專案的話可以考慮用看看</p>
<h1 id="優點"><a href="#優點" class="headerlink" title="優點"></a>優點</h1><ul>
<li><p>快速輕巧：根據 google 的統計 protocol buffers 比 XML 更小更快，這邊也有<a href="https://damienbod.com/2014/01/09/comparing-protobuf-json-bson-xml-with-net-for-file-streams/" target="_blank" rel="external">牛人</a>幫忙實際測試。</p>
</li>
<li><p>型態安全 (Type safety)：使用 protocol buffer language 必須給予型態。</p>
</li>
<li><p>自動反序列化：不用在寫任何解析的程式碼了，只需要更新 proto 檔案然後重新產生 model calss。</p>
</li>
<li><p>支援多種跨平台</p>
</li>
</ul>
<h1 id="缺點"><a href="#缺點" class="headerlink" title="缺點"></a>缺點</h1><ul>
<li><p>時間成本：要在既有專案上更動所耗費的時間成本非常的高，這點可能要好好考慮考慮</p>
</li>
<li><p>比較不好閱讀： 相比 XML 跟 JSON，protocol buffer 會比較不好上手</p>
</li>
</ul>
<p>未完成…….待續….</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;實作 Protocol Buffers on iOS 與本地端 python service， &lt;a href=&quot;https://www.raywenderlich.com/149335/introduction-protocol-buffers-ios&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;原文出處&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>What is Podfile.lock?</title>
    <link href="http://stephenchen.com/2017/04/24/What-is-Podfile-lock/"/>
    <id>http://stephenchen.com/2017/04/24/What-is-Podfile-lock/</id>
    <published>2017-04-24T03:52:44.000Z</published>
    <updated>2017-04-26T03:46:56.000Z</updated>
    
    <content type="html"><![CDATA[<p>Illustrated explanation of what is Podfile.lock</p>
<a id="more"></a>
<p>Have you ever encounter this error before?</p>
<p><img src="error.png" alt="Error"></p>
<p>Simply run <strong>pod install</strong> can solve this problem, but if you interested in why cause this problem please read on!</p>
<blockquote>
<p>Assume that you have basic concept of using <strong><a href="https://guides.cocoapods.org/using/using-cocoapods.html" target="_blank" rel="external">Cocoapods</a></strong></p>
</blockquote>
<p>That said after first time run <strong>pod install</strong>, you will generate a file call <strong>Podfile.lock</strong>. First, don’t let that <strong>lock</strong> name confuse you. The purpose of <strong>Podfile.lock</strong> is tracking of every version of every library that <strong>Cocoapods</strong> has installed for you, especially working together with a team. so I copy some screenshots from <a href="https://www.youtube.com/watch?v=H-zK1mEwTe0" target="_blank" rel="external">“CocoaPods and Lockfiles (Route 85)”</a> for easily to explain.</p>
<h4 id="Pod-install"><a href="#Pod-install" class="headerlink" title="Pod install"></a>Pod install</h4><p>According to the screenshot, run pod install will install <strong>Version 1.3.3 DemoLibrary</strong> on Suzie’s project</p>
<p><img src="podfile-lock-explanation-1.png" alt="podfile-lock-explanation-1.png"></p>
<h4 id="Fews-days-later-DemoLibrary-update-to-version-1-4-0"><a href="#Fews-days-later-DemoLibrary-update-to-version-1-4-0" class="headerlink" title="Fews days later, DemoLibrary update to version 1.4.0"></a>Fews days later, DemoLibrary update to version 1.4.0</h4><p><img src="podfile-lock-explanation-2.png" alt="podfile-lock-explanation-2.png"></p>
<h4 id="Your-coworker-Mark-run-pod-install-and-then-version-1-4-0-DemoLibrary-will-show-up-on-Mark’s-project-And-when-you-merge-those-two-project-together-Boom-because-your-project-using-the-feature-on-version-1-3-3-but-not-fit-on-Mark’s-project-which-is-version-1-4-0。"><a href="#Your-coworker-Mark-run-pod-install-and-then-version-1-4-0-DemoLibrary-will-show-up-on-Mark’s-project-And-when-you-merge-those-two-project-together-Boom-because-your-project-using-the-feature-on-version-1-3-3-but-not-fit-on-Mark’s-project-which-is-version-1-4-0。" class="headerlink" title="Your coworker(Mark) run pod install and then version 1.4.0 DemoLibrary will show up on Mark’s project, And when you merge those two project together. Boom, because your project using the feature on version 1.3.3 but not fit on Mark’s project which is version 1.4.0。"></a>Your coworker(Mark) run pod install and then version 1.4.0 DemoLibrary will show up on Mark’s project, And when you merge those two project together. Boom, because your project using the feature on version 1.3.3 but not fit on Mark’s project which is version 1.4.0。</h4><p><img src="podfile-lock-explanation-3.png" alt="podfile-lock-explanation-3.png"></p>
<h4 id="So-here-is-how-Podfile-lock-work-record-the-version-of-what-Suzie-had-installed-then-cocoapods-will-check-what-version-Suzie-had-installed-and-then-install-on-Mark’s-project。"><a href="#So-here-is-how-Podfile-lock-work-record-the-version-of-what-Suzie-had-installed-then-cocoapods-will-check-what-version-Suzie-had-installed-and-then-install-on-Mark’s-project。" class="headerlink" title="So here is how Podfile.lock work, record the version of what Suzie had installed, then cocoapods will check what version Suzie had installed and then install on Mark’s project。"></a>So here is how Podfile.lock work, record the version of what Suzie had installed, then cocoapods will check what version Suzie had installed and then install on Mark’s project。</h4><p><img src="podfile-lock-explanation-4.png" alt="podfile-lock-explanation-4.png"></p>
<h4 id="so-if-Mark-run-pod-update-then-Podfile-lock-will-changed-to-version-1-4-0-after-merge-it-will-appear-like-above-error，so-this-is-why-cause-this-error。"><a href="#so-if-Mark-run-pod-update-then-Podfile-lock-will-changed-to-version-1-4-0-after-merge-it-will-appear-like-above-error，so-this-is-why-cause-this-error。" class="headerlink" title="so if Mark run pod update, then Podfile.lock will changed to version 1.4.0, after merge, it will appear like above error，so this is why cause this error。"></a>so if Mark run pod update, then Podfile.lock will changed to version 1.4.0, after merge, it will appear like above error，so this is why cause this error。</h4><p><img src="podfile-lock-explanation-5.png" alt="podfile-lock-explanation-5.png"></p>
<h4 id="Another-nice-feature-is-cocoapods-will-create-a-snapshot-of-every-library-while-using-source-control"><a href="#Another-nice-feature-is-cocoapods-will-create-a-snapshot-of-every-library-while-using-source-control" class="headerlink" title="Another nice feature is cocoapods will create a snapshot of every library while using source control"></a>Another nice feature is cocoapods will create a snapshot of every library while using source control</h4><p><img src="podfile-lock-explanation-6.png" alt="podfile-lock-explanation-6.png"></p>
<h4 id="Briefly-here-is-what-I-learn-from-this-video-hope-you-like-it"><a href="#Briefly-here-is-what-I-learn-from-this-video-hope-you-like-it" class="headerlink" title="Briefly, here is what I learn from this video, hope you like it."></a>Briefly, here is what I learn from this video, hope you like it.</h4><p><a href="https://www.youtube.com/watch?v=H-zK1mEwTe0" target="_blank" rel="external">Reference1</a></p>
<p><a href="https://guides.cocoapods.org/using/using-cocoapods.html" target="_blank" rel="external">Reference2</a></p>
<h4 id="If-you-use-Cartfile-instead-of-cocoapods-on-your-project-the-Cartfile-resolved-work-exactly-the-same-as-Podfile-lock"><a href="#If-you-use-Cartfile-instead-of-cocoapods-on-your-project-the-Cartfile-resolved-work-exactly-the-same-as-Podfile-lock" class="headerlink" title="If you use Cartfile instead of cocoapods on your project, the Cartfile.resolved work exactly the same as Podfile.lock"></a>If you use Cartfile instead of cocoapods on your project, the <strong>Cartfile.resolved</strong> work exactly the same as <strong>Podfile.lock</strong></h4>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Illustrated explanation of what is Podfile.lock&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Simple way to build an iOS framework</title>
    <link href="http://stephenchen.com/2017/04/21/simple-way-build-an-framework/"/>
    <id>http://stephenchen.com/2017/04/21/simple-way-build-an-framework/</id>
    <published>2017-04-21T08:03:08.000Z</published>
    <updated>2017-04-27T07:26:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>Creating a reusable, sharable code across different projects and use it via <a href="https://github.com/Carthage/Carthage" target="_blank" rel="external">Carthage</a></p>
<a id="more"></a>
<p>This article has minimal iOS 8 require because Apple allow developer create their own dynamic framework since iOS 8.</p>
<p>Below are some references you can dig at it.</p>
<p><a href="http://stackoverflow.com/questions/27899799/ios-static-vs-dynamic-frameworks-clarifications" target="_blank" rel="external">iOS Static vs Dynamic frameworks clarifications</a></p>
<p><a href="https://github.com/jverkoey/iOS-Framework" target="_blank" rel="external">Building a static iOS framework is a pain in the ass</a></p>
<h1 id="OS-Environment"><a href="#OS-Environment" class="headerlink" title="OS Environment"></a>OS Environment</h1><blockquote>
<p>macOS Sierra</p>
</blockquote>
<h1 id="Step-1-Create-a-new-framework-project"><a href="#Step-1-Create-a-new-framework-project" class="headerlink" title="Step 1: Create a new framework project"></a>Step 1: Create a new framework project</h1><p>Just like create a normal project.</p>
<p><img src="create-framework.gif" alt="create-framework"></p>
<p>Then add your files into it.</p>
<h1 id="Step-2-Share-your-framework"><a href="#Step-2-Share-your-framework" class="headerlink" title="Step 2: Share your framework"></a>Step 2: Share your framework</h1><p>Make scheme sharable.</p>
<p><img src="create-framework2.gif" alt="create-framework2"></p>
<h1 id="Step-3-Add-files-into-your-framework-and-finish"><a href="#Step-3-Add-files-into-your-framework-and-finish" class="headerlink" title="Step 3: Add files into your framework and finish."></a>Step 3: Add files into your framework and finish.</h1><p>First add your files into your framework then generate this framework by press <strong>commnad + B</strong>. After all, right click show in finder option with popup menu.</p>
<p><img src="create-framework3.gif" alt="create-framework3"></p>
<h1 id="Step-4-Before-Deploy"><a href="#Step-4-Before-Deploy" class="headerlink" title="Step 4: Before Deploy"></a>Step 4: Before Deploy</h1><p>Run below code or <a href="https://github.com/Carthage/Carthage#share-your-xcode-schemes" target="_blank" rel="external">see office guildline</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">carthage build --no-skip-current</div></pre></td></tr></table></figure>
<p><img src="create-framework4.gif" alt="create-framework4"></p>
<p>Then checking the Carthage/Build folder.</p>
<p><img src="create-framework5.png" alt="create-framework5"></p>
<h1 id="Setp-5-Make-a-badge"><a href="#Setp-5-Make-a-badge" class="headerlink" title="Setp 5: Make a badge"></a>Setp 5: Make a badge</h1><p>add below into your Readme.md, it shows like <a href="https://github.com/Carthage/Carthage" target="_blank" rel="external"><img src="https://img.shields.io/badge/Carthage-compatible-4BC51D.svg?style=flat" alt="Carthage compatible"></a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[![Carthage compatible](https://img.shields.io/badge/Carthage-compatible-4BC51D.svg?style=flat)](https://github.com/Carthage/Carthage)</div></pre></td></tr></table></figure>
<h1 id="Step-6-Deploy-it-with-private-way"><a href="#Step-6-Deploy-it-with-private-way" class="headerlink" title="Step 6: Deploy it with private way"></a>Step 6: Deploy it with private way</h1><p>Deploy it to your personal git service such as <strong>BitBucket</strong>、<strong>GitLab</strong>、<strong>Github</strong>….etc.</p>
<p>Then add private URL inside <strong>Cartfile</strong> on any of your projects.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">echo</span> git \<span class="string">"Your Git URL Address\" &gt; Cartfile</span></div></pre></td></tr></table></figure>
<p><img src="create-framework6.gif" alt="create-framework6"></p>
<h1 id="Step-7-Deploy-it-with-public-way"><a href="#Step-7-Deploy-it-with-public-way" class="headerlink" title="Step 7: Deploy it with public way"></a>Step 7: Deploy it with public way</h1><p>to be continue….</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Creating a reusable, sharable code across different projects and use it via &lt;a href=&quot;https://github.com/Carthage/Carthage&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Carthage&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Integrate fastlane save your time .</title>
    <link href="http://stephenchen.com/2017/03/22/fastlane-customize-plist-file/"/>
    <id>http://stephenchen.com/2017/03/22/fastlane-customize-plist-file/</id>
    <published>2017-03-22T08:03:28.000Z</published>
    <updated>2017-03-30T16:08:39.000Z</updated>
    
    <content type="html"><![CDATA[<p>fastlane + script 一鍵產出多種 .ipa 檔。</p>
<a id="more"></a>
<h4 id="使用環境"><a href="#使用環境" class="headerlink" title="使用環境"></a>使用環境</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">macOS Sierra</div></pre></td></tr></table></figure>
<h1 id="自身面臨的情況"><a href="#自身面臨的情況" class="headerlink" title="自身面臨的情況"></a>自身面臨的情況</h1><p>因工作所需，需要發布 <strong>企業內部使用</strong>，並打包成不同形式的 .ipa 上架擋案。換句話說，假設我要產生 10 個 擁有不同 Info.plist 的 .ipa 檔案，如果手動的話我不就要改到死了？每次 Archive 都要等很久，然後結束之後在改 Info.plist 上的參數然後再 Archive 然後再上架。</p>
<h1 id="本篇分享概要"><a href="#本篇分享概要" class="headerlink" title="本篇分享概要"></a>本篇分享概要</h1><p>因為官方文檔其實非常詳細，所以這邊只分享大致流程，並不打算寫的太詳細。</p>
<h1 id="如何自動上架"><a href="#如何自動上架" class="headerlink" title="如何自動上架"></a>如何自動上架</h1><p>目前iOS我知道打包除了手動之外，還有幾種方式分別是<a href="https://developer.apple.com/legacy/library/documentation/Darwin/Reference/ManPages/man1/xcodebuild.1.html" target="_blank" rel="external">xcodebuild</a>和<a href="https://github.com/facebook/xctool" target="_blank" rel="external">xctool</a>，而今天要使用的是把這些神器打包好的神器 <a href="https://fastlane.tools/" target="_blank" rel="external">fastlane</a></p>
<h1 id="如何自動更新-Info-plist-的參數"><a href="#如何自動更新-Info-plist-的參數" class="headerlink" title="如何自動更新 Info.plist 的參數"></a>如何自動更新 Info.plist 的參數</h1><p>這邊我打算使用 <a href="https://www.gnu.org/software/sed/manual/sed.txt" target="_blank" rel="external">sed</a> 來完成替換 Info.plist 內部參數。</p>
<p>附帶一提，這邊情況適用我自己而已，其實任何在專案內部的檔案，圖片都可以進行變更，包括上架到 AppStore，Screenshot，Test，管理證書都可以。It’s all depending on you.</p>
<h1 id="結合兩者-Fastlane-Script"><a href="#結合兩者-Fastlane-Script" class="headerlink" title="結合兩者 Fastlane + Script"></a>結合兩者 Fastlane + Script</h1><h4 id="步驟1：完成-Fastlane-的安裝"><a href="#步驟1：完成-Fastlane-的安裝" class="headerlink" title="步驟1：完成 Fastlane 的安裝"></a>步驟1：完成 Fastlane 的安裝</h4><ul>
<li>安裝 homebrew</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/usr/bin/ruby -e <span class="string">"<span class="variable">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)</span>"</span></div></pre></td></tr></table></figure>
<ul>
<li>透過 homebrew 來安裝 fastlane</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">brew cask install fastlane</div></pre></td></tr></table></figure>
<h4 id="步驟2：Fastlane-的初始化設定"><a href="#步驟2：Fastlane-的初始化設定" class="headerlink" title="步驟2：Fastlane 的初始化設定"></a>步驟2：Fastlane 的初始化設定</h4><ul>
<li>第一種：(建議）</li>
</ul>
<blockquote>
<p>透過 <a href="https://fabric.io/features/distribution?utm_campaign=github_readme" target="_blank" rel="external">官方</a>提供的文檔來產生初始化的程式碼</p>
</blockquote>
<ul>
<li>第二種：開啟 Terminal 到當前 iOS 的資料夾下，並且跟著輸入帳號跟相關的資料</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">fastlane init</div></pre></td></tr></table></figure>
<p><img src="fastlaneinit2.png" alt="fastlaneinit2.png"></p>
<p>那兩種哪邊不一樣呢？，第一種其實已經幫你把程式碼初始化了，讓你少去比較多的步驟，接著我們打開 <strong>Fastlane</strong> 來看一下的 Code。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line">fastlane_version <span class="string">"1.109.0"</span></div><div class="line"></div><div class="line">generated_fastfile_id <span class="string">"adb8dedb-e633-43f6-87b0-03588e2f5a43"</span></div><div class="line"></div><div class="line">default_platform <span class="symbol">:ios</span></div><div class="line"></div><div class="line"><span class="comment"># 原本的</span></div><div class="line">lane <span class="symbol">:beta</span> <span class="keyword">do</span></div><div class="line"></div><div class="line">  <span class="comment"># build your iOS app</span></div><div class="line">  gym(</div><div class="line">    <span class="comment"># scheme: "YourScheme"</span></div><div class="line">  )</div><div class="line"></div><div class="line">  <span class="comment"># upload to Beta by Crashlytics</span></div><div class="line">  crashlytics(</div><div class="line">    <span class="comment"># api_token: "YOUR_API_KEY",</span></div><div class="line">    <span class="comment"># build_secret: "YOUR_BUILD_SECRET"</span></div><div class="line">  )</div><div class="line"></div><div class="line">  <span class="comment"># slack(</span></div><div class="line">  <span class="comment">#   slack_url: "https://hooks.slack.com/services/IDS"</span></div><div class="line">  <span class="comment"># )</span></div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line"><span class="comment"># 自定義名稱我在這邊自定義名稱為 BABABA</span></div><div class="line">lane <span class="symbol">:BABABA</span> <span class="keyword">do</span></div><div class="line"></div><div class="line">  方法<span class="number">1</span>(</div><div class="line">    參數名<span class="number">1</span>: <span class="string">"參數值1"</span></div><div class="line">  )</div><div class="line"></div><div class="line">  方法<span class="number">2</span>(</div><div class="line">    參數名<span class="number">1</span>: <span class="string">"參數值1"</span>,</div><div class="line">    參數名<span class="number">2</span>: <span class="string">"參數值2"</span>,</div><div class="line">    參數名<span class="number">3</span>: <span class="string">"參數值3"</span>,</div><div class="line">  )</div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<p>其實他的公式非常簡單，就是把上面我打中文的地方替換成所需要的參數，你可以想像成宣告一個Class，然後裡面給予他n個 key:value 型態的變數，那<strong>方法</strong>有哪些呢？依造官方有很多，比如 <strong>deliver</strong> 或者 <strong>supply</strong> 之類的…，以下是所有的 actions 列表</p>
<p><img src="allactions.png" alt="allactions"></p>
<p>這邊翻譯官方的幾個比較常用的 Commands</p>
<table>
<thead>
<tr>
<th style="text-align:left">Commands</th>
<th style="text-align:right">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">fastlane actions</td>
<td style="text-align:right">把所有的actions列出來</td>
</tr>
<tr>
<td style="text-align:left">fastlane lanes</td>
<td style="text-align:right">把所有在 Fastlane 檔案底下的 lane 和 描述列出來</td>
</tr>
<tr>
<td style="text-align:left">fastlane list</td>
<td style="text-align:right">同上，但是不把描述列出來</td>
</tr>
<tr>
<td style="text-align:left">fastlane new_action</td>
<td style="text-align:right">創造一個新的 actions</td>
</tr>
<tr>
<td style="text-align:left">fastlane env</td>
<td style="text-align:right">這是當你有問題的時候，可以幫你把環境快速的列出來好放到 issue 給別人看</td>
</tr>
</tbody>
</table>
<p>另外翻譯官方重點 actions，外加幾個我感覺比較常用的＠＠</p>
<table>
<thead>
<tr>
<th style="text-align:left">常用Actions名稱</th>
<th style="text-align:right">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">deliver</td>
<td style="text-align:right">上傳screenshots，metadata到 App Store</td>
</tr>
<tr>
<td style="text-align:left">supply</td>
<td style="text-align:right">上傳 Android app，metadata到 Google Play</td>
</tr>
<tr>
<td style="text-align:left">snapshot</td>
<td style="text-align:right">自動幫你在地化的方式拍照，支援 iOS and tvOS</td>
</tr>
<tr>
<td style="text-align:left">screengrab</td>
<td style="text-align:right">自動幫你的 Android App 在地化的方式拍照，支援 iOS and tvOS</td>
</tr>
<tr>
<td style="text-align:left">frameit</td>
<td style="text-align:right">幫你把 screenshots 放到正確的機型</td>
</tr>
<tr>
<td style="text-align:left">pem</td>
<td style="text-align:right">自動幫你產生和更新推播憑證</td>
</tr>
<tr>
<td style="text-align:left">sigh</td>
<td style="text-align:right">產生 provisioning profile</td>
</tr>
<tr>
<td style="text-align:left">produce</td>
<td style="text-align:right">自動產生新的 iOS App 在iTunes Connect</td>
</tr>
<tr>
<td style="text-align:left">cert</td>
<td style="text-align:right">自動產生跟管理 iOS code signing certificates</td>
</tr>
<tr>
<td style="text-align:left">spaceship</td>
<td style="text-align:right">一個可以存取 Apple Dev Center and iTunes Connect 的 Ruby 函式庫</td>
</tr>
<tr>
<td style="text-align:left">pilot</td>
<td style="text-align:right">管理 TestFlight 的使用者</td>
</tr>
<tr>
<td style="text-align:left">boarding</td>
<td style="text-align:right">邀請新使用者到 TestFlight</td>
</tr>
<tr>
<td style="text-align:left">gym</td>
<td style="text-align:right">自動產生 .ipa 檔案</td>
</tr>
<tr>
<td style="text-align:left">match</td>
<td style="text-align:right">用git來同步憑證和證書，解決多人開發問題</td>
</tr>
<tr>
<td style="text-align:left">scan</td>
<td style="text-align:right">跑專案的測試</td>
</tr>
<tr>
<td style="text-align:left">slack</td>
<td style="text-align:right">對 slack 進行通知</td>
</tr>
</tbody>
</table>
<p>那<strong>方法的參數</strong>有哪些呢？請在 Terminal 打上 <strong>fastlane action [方法]</strong>，比如我想要看 <strong>supply</strong> 有哪些參數，那就</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">fastlane action supply</div></pre></td></tr></table></figure>
<p><img src="parameters.png" alt="parameters"></p>
<p>像我自己要產生 ipa 檔案的話就要看 <strong>gym</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">fastlane action gym</div></pre></td></tr></table></figure>
<p><img src="gym.png" alt="gym"></p>
<p>接著就慢慢看囉～想要什麼就打什麼需要什麼就打什麼。在依序填入到上面的公式</p>
<h4 id="步驟3：執行-Fastlane"><a href="#步驟3：執行-Fastlane" class="headerlink" title="步驟3：執行 Fastlane"></a>步驟3：執行 Fastlane</h4><p>fastlane [公式名稱]，如上圖我的名稱是 <strong>BABABA</strong>，那就在終端機上打以下指令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">fastlane BABABA</div></pre></td></tr></table></figure>
<p>這邊也許會遇到一些環境問題，以及安裝問題，這時候就要一個一個自己去解決了，每個人遇到的問題不太一樣，可以留言在下面互相討論。不過有個問題我也覺得非常麻煩，我把這問題寫在最下面的 TroubleShooting 部分</p>
<h4 id="步驟4：跟著範例走"><a href="#步驟4：跟著範例走" class="headerlink" title="步驟4：跟著範例走"></a>步驟4：跟著範例走</h4><p>這邊有很多開源分享他們的 Fastlane 開源檔案。</p>
<p><a href="https://github.com/fastlane/examples" target="_blank" rel="external">Examples</a></p>
<h4 id="步驟5：循環步驟4"><a href="#步驟5：循環步驟4" class="headerlink" title="步驟5：循環步驟4"></a>步驟5：循環步驟4</h4><p>這邊一定要想成功，不然之後再結合 script 的時候問題會更多。</p>
<h1 id="Script"><a href="#Script" class="headerlink" title="Script"></a>Script</h1><p>這部分就比較簡單了，我把 code 放在 <a href="https://github.com/5SMNOONMS5/TestFastlane" target="_blank" rel="external">github</a> 上。大致架構圖如下</p>
<p><img src="bash_architecture.png" alt="bash_architecture"></p>
<p>這邊的架構是所有跟 <strong>script</strong> 相關的 .sh 檔案都會在 script 資料夾底下，透過 <a href="https://www.gnu.org/software/sed/manual/sed.txt" target="_blank" rel="external">sed</a> 會去執行變更 Info.plish 檔案裡面的變數，參數設定則是放在 <strong>script/config</strong> 裡面。</p>
<p>在終端機底下執行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 先cd到 script 目錄資料夾底下，先看看提供了什麼方法</span></div><div class="line">sh archive -h</div><div class="line"><span class="comment"># 然後執行</span></div><div class="line">sh archive -s</div></pre></td></tr></table></figure>
<p><img src="archive.png" alt="archive"></p>
<h1 id="TroubleShooting"><a href="#TroubleShooting" class="headerlink" title="TroubleShooting"></a>TroubleShooting</h1><h4 id="Connection-reset-by-peer-SSL-connect"><a href="#Connection-reset-by-peer-SSL-connect" class="headerlink" title="Connection reset by peer - SSL_connect"></a>Connection reset by peer - SSL_connect</h4><p>因為我的 ruby 版本是 2.0.0，蘋果最近把服務器的TLS版本更新到 TLS 1.2，在我當前的 ruby 是不支持的，所以我要想辦法升級到 支援 TLS 1.2的 ruby 版本。</p>
<p><img src="opensslfail.png" alt="opensslfail.png"></p>
<p>在解決問題之前，我想分享一些我個人覺得蠻需要被了解的基礎，就是因為我也對 ruby 不了解，所以吃了不少虧在解決這個問題上</p>
<p>首先安裝 ruby 可以透過 <a href="https://brew.sh/" target="_blank" rel="external">homebrew</a> ， <a href="https://github.com/rbenv/rbenv" target="_blank" rel="external">rbenv</a> 以及 <a href="https://rvm.io/" target="_blank" rel="external">rvm</a>，一台電腦可能有很多 ruby 的版本存在，你必須讓你當前的 ruby 版本使用可以支援 TLS 1.2 的版本，不管你是用什麼套件安裝，但我個人這邊的問題是當初我忘記我用什麼來安裝的。</p>
<p>對於不知道用什麼來安裝的囧情況，我用了最笨的方法來檢查我是不是有以上三個套件<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 檢查是否有安裝 rvm</span></div><div class="line">ls -al | grep .rvm</div><div class="line"><span class="comment"># 檢查是否有安裝 rbenv</span></div><div class="line">ls -al | grep .rbenv</div><div class="line"><span class="comment"># 檢查是否 homebrew 有安裝 ruby</span></div><div class="line">brew list</div></pre></td></tr></table></figure></p>
<p>這下好了，很幸運的我並沒有使用 brew 安裝。但我有可能是使用 rvm 或者是 rbenv 安裝。之後我又奮鬥了很久？茫茫大海之中，我看到了這段</p>
<blockquote>
<p>Hey everyone, we’ve been working on a new way to install and use fastlane, all you have to do is to download <a href="https://kits-crashlytics-com.s3.amazonaws.com/fastlane/standalone/latest.zip" target="_blank" rel="external">fastlane.zip</a> and double click the install file. This will install fastlane with all its Ruby and OpenSSL dependencies, and should all work out of the box.<br>We just finished building this, and would love your early feedback on this beta. Please let us know how it works for you and if you run into any problems 👍<br>Download the latest version here.</p>
</blockquote>
<p>大意就是他把 fastlane 所需要的 dependencies 全部放在 <strong>~./fastlane/bin</strong> 底下，這就是整個程式，有點類似 docker 的感覺，安裝好之後，我的問題也解決了。</p>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><p><a href="https://github.com/fastlane/fastlane/issues/6553" target="_blank" rel="external">Connection reset by peer</a></p>
<p><a href="https://github.com/fastlane/fastlane/issues/6758" target="_blank" rel="external">cert fails with error ‘Connection reset by peer - SSL_connect’</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;fastlane + script 一鍵產出多種 .ipa 檔。&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Transfer Git repositories into another server</title>
    <link href="http://stephenchen.com/2017/02/21/Transfer-Git-repositories-into-another-service/"/>
    <id>http://stephenchen.com/2017/02/21/Transfer-Git-repositories-into-another-service/</id>
    <published>2017-02-21T08:51:43.000Z</published>
    <updated>2017-04-18T17:00:56.000Z</updated>
    
    <content type="html"><![CDATA[<p>今天公司剛好要把 原先的 Git Server 轉移到另外一台 Server，於是研究了一下</p>
<a id="more"></a>
<h4 id="Step-1"><a href="#Step-1" class="headerlink" title="Step 1"></a>Step 1</h4><ul>
<li>先把<strong>全部</strong>的資源包含tag，Commit 節點，branch 全部都抓到 local 端</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git fetch origin</div></pre></td></tr></table></figure>
<h4 id="Step-2"><a href="#Step-2" class="headerlink" title="Step 2"></a>Step 2</h4><ul>
<li>檢查一下所有的remote 跟 local branch 是不是都有在 local 端了</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git branch -a</div></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">* master</div><div class="line">remotes/origin/develop</div><div class="line">remotes/origin/master</div><div class="line">remotes/origin/release</div></pre></td></tr></table></figure>
<h4 id="Step-3"><a href="#Step-3" class="headerlink" title="Step 3"></a>Step 3</h4><ul>
<li>如果沒有請重新 check out 出來，像上面我們總共有三個 branch ，分別是<strong>develop</strong>，<strong>master</strong>還有 <strong>release</strong>，但是上面只有 <strong>master</strong> 是在 local 端，請在執行下面的指令。</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#git checkout -b "local name" "remote name"</span></div><div class="line">git checkout -b develop remotes/origin/master</div><div class="line">git checkout -b release remotes/origin/release</div></pre></td></tr></table></figure>
<ul>
<li>然後再確認一次</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git branch -a</div></pre></td></tr></table></figure>
<ul>
<li>螢幕會顯示</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">develop</div><div class="line">master</div><div class="line">* release</div><div class="line">remotes/origin/develop</div><div class="line">remotes/origin/master</div><div class="line">remotes/origin/release</div></pre></td></tr></table></figure>
<h4 id="Step-4"><a href="#Step-4" class="headerlink" title="Step 4"></a>Step 4</h4><ul>
<li>把新的 git service 路徑加進去</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git remote add new-origin <span class="string">"新的URL路徑"</span></div></pre></td></tr></table></figure>
<ul>
<li><strong>新的URL路徑</strong> 看是要透過 <strong>http</strong> 或者是 <strong>ssh</strong>，<strong>ssh</strong> 方式先加 <strong>public key</strong> 到新的 <strong>git service</strong></li>
</ul>
<h4 id="Step-5"><a href="#Step-5" class="headerlink" title="Step 5"></a>Step 5</h4><ul>
<li><p>都完成之後，請務必上面步驟都要準確，不然到時候少資料就掰惹。</p>
</li>
<li><p>接著執行</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git push --all new-origin</div></pre></td></tr></table></figure>
<ul>
<li>如果有 <strong>tag</strong> 的話</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git push --tags new-origin</div></pre></td></tr></table></figure>
<h4 id="Step-6"><a href="#Step-6" class="headerlink" title="Step 6"></a>Step 6</h4><ul>
<li><p>到新的 server 看一下 repo 是否成功惹。</p>
</li>
<li><p>當確認完成之後，把原本的舊的 server URL <strong>刪除</strong></p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git remote rm origin</div></pre></td></tr></table></figure>
<ul>
<li>然後再把新的 remote name 改掉變成新的URL路徑</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git remote rename new-origin origin</div></pre></td></tr></table></figure>
<h1 id="Git-mirror"><a href="#Git-mirror" class="headerlink" title="Git mirror"></a>Git mirror</h1><blockquote>
<p>2017/04/19 update</p>
</blockquote>
<p>無意間同事發了這篇鏈接，覺得比我之前的方法要更簡潔更方便，真後悔沒有提早看到<br><a href="https://dinos80152.wordpress.com/2015/09/21/%E4%BD%BF%E7%94%A8-git-mirror-%E7%84%A1%E7%97%9B%E8%BD%89%E7%A7%BB-git-server/" target="_blank" rel="external">git mirror</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;今天公司剛好要把 原先的 Git Server 轉移到另外一台 Server，於是研究了一下&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Custom build in Sublime Text 3</title>
    <link href="http://stephenchen.com/2017/01/27/Custom-build-in-Sublime-Text-3/"/>
    <id>http://stephenchen.com/2017/01/27/Custom-build-in-Sublime-Text-3/</id>
    <published>2017-01-27T08:44:48.000Z</published>
    <updated>2017-04-26T05:05:25.000Z</updated>
    
    <content type="html"><![CDATA[<p>custom builds in sublime text 3</p>
<a id="more"></a>
<p>Recently I start to learn C language , so intuitively open the Xcode. Xcode is good, but some times it take too long to open the application. Until my colleague ask me, Do you know how to build c program on <a href="https://www.sublimetext.com/" target="_blank" rel="external">Sublime Text</a> ?</p>
<p>So here is my little build process on <strong>Mac OS X EI Capitan</strong></p>
<h1 id="Install-Sublime-Text"><a href="#Install-Sublime-Text" class="headerlink" title="Install Sublime Text"></a>Install Sublime Text</h1><p><a href="https://www.sublimetext.com/3" target="_blank" rel="external">Office Download Page</a></p>
<h1 id="Create-a-custom-build-system"><a href="#Create-a-custom-build-system" class="headerlink" title="Create a custom build system"></a>Create a custom build system</h1><p><img src="build_system.gif" alt="gif animation"></p>
<h1 id="Default-file-location"><a href="#Default-file-location" class="headerlink" title="Default file location"></a>Default file location</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/Users/&lt;Your Name&gt;/Library/Application Support/Sublime Text 3/Packages/User/</div></pre></td></tr></table></figure>
<h1 id="Paste-this-code-into-sublime-build-file"><a href="#Paste-this-code-into-sublime-build-file" class="headerlink" title="Paste this code into .sublime-build file"></a>Paste this code into .sublime-build file</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">	&quot;cmd&quot; : [&quot;gcc $file_name -o $&#123;file_base_name&#125; &amp;&amp; ./$&#123;file_base_name&#125; &amp;&amp; rm ./$&#123;file_base_name&#125;&quot;],</div><div class="line">	&quot;selector&quot; : &quot;source.c&quot;,</div><div class="line">	&quot;shell&quot;: true,</div><div class="line">	&quot;working_dir&quot; : &quot;$file_path&quot;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="Start-coding-press-command-B"><a href="#Start-coding-press-command-B" class="headerlink" title="Start coding, press command + B"></a>Start coding, press command + B</h1><p><img src="build.gif" alt="build"></p>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><p><a href="http://stackoverflow.com/questions/24225343/how-to-compile-and-run-c-in-sublime-text-3" target="_blank" rel="external">stack overflow</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;custom builds in sublime text 3&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Funny commands</title>
    <link href="http://stephenchen.com/2017/01/19/Funny-commands/"/>
    <id>http://stephenchen.com/2017/01/19/Funny-commands/</id>
    <published>2017-01-19T12:15:47.000Z</published>
    <updated>2017-01-23T01:22:35.000Z</updated>
    
    <content type="html"><![CDATA[<p>A set of ASCII pictures that enjoy code life though hard up .</p>
<a id="more"></a>
<h1 id="OS-Environment"><a href="#OS-Environment" class="headerlink" title="OS Environment"></a>OS Environment</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Mac OS X EI Capitan</div></pre></td></tr></table></figure>
<h1 id="Cowsay"><a href="#Cowsay" class="headerlink" title="Cowsay"></a>Cowsay</h1><p>Firstly I want to introduce a cute ASCII picture of a cow named <a href="https://en.wikipedia.org/wiki/Cowsay" target="_blank" rel="external">cowsay</a> , this doll can show a message that you type . As its name cow + say .</p>
<p><img src="cowsay.png" alt="cowsay.png"></p>
<p>So that dig into it . First install it with below two commands:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ruby -e <span class="string">"<span class="variable">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)</span>"</span> &lt; /dev/null 2&gt; /dev/null</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">brew install cowsay</div></pre></td></tr></table></figure>
<p>After settle down all installation</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cowsay <span class="string">"Hello, Word"</span></div></pre></td></tr></table></figure>
<p>There will show you a cow with a message “Hello, Word” , but I am not satisfied with it . In fact, there is more than one doll that you can use . For example :</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ cowsay -l</div></pre></td></tr></table></figure>
<p>It will show lots of doll that you can replace with .</p>
<p><img src="dolls.png" alt="dolls"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># formula</span></div><div class="line"><span class="comment"># cowsay -f [new doll] "message here"</span></div><div class="line">cowsay -f eyes <span class="string">"New dolls say hello word"</span></div></pre></td></tr></table></figure>
<p><img src="eyes.png" alt="eyes.png"></p>
<p>Ha . There are more informations<br><a href="http://ithelp.ithome.com.tw/articles/10127590" target="_blank" rel="external">source 1</a><br><a href="http://ithelp.ithome.com.tw/articles/10143897" target="_blank" rel="external">source 2</a></p>
<h1 id="More-powerful-cowsay"><a href="#More-powerful-cowsay" class="headerlink" title="More powerful cowsay"></a>More powerful cowsay</h1><p><img src="super_cowsay.gif" alt="powerful cowsay"></p>
<p>Install <strong>fortune</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">brew install fortune</div></pre></td></tr></table></figure>
<p>Then install <strong>lolcat</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo gem install lolcat</div></pre></td></tr></table></figure>
<p>Run it</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">fortune | cowsay | lolcat</div></pre></td></tr></table></figure>
<p><a href="https://gist.github.com/dakull/6615458" target="_blank" rel="external">more here</a></p>
<h1 id="Train"><a href="#Train" class="headerlink" title="Train"></a>Train</h1><p>Another funny commands is a <strong>sl</strong> , it shows like a train</p>
<p><img src="train.gif" alt="train picture"></p>
<p>Install it with below two commands:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&gt;ruby -e <span class="string">"<span class="variable">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)</span>"</span> &lt; /dev/null 2&gt; /dev/null</div></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">brew install sl</div></pre></td></tr></table></figure>
<p>Run it</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sl</div></pre></td></tr></table></figure>
<h1 id="Wanna-watch-a-movies"><a href="#Wanna-watch-a-movies" class="headerlink" title="Wanna watch a movies?"></a>Wanna watch a movies?</h1><p><img src="star_war.gif" alt="star_war"></p>
<p>Try it , but …. it really take a long time .</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">telnet towel.blinkenlights.nl</div></pre></td></tr></table></figure>
<h1 id="9-x-9-multiplication-table"><a href="#9-x-9-multiplication-table" class="headerlink" title="9 x 9 multiplication table"></a>9 x 9 multiplication table</h1><p><img src="multiplication table.png" alt="multiplication table"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> &#123;1..12&#125;; <span class="keyword">do</span> <span class="keyword">for</span> j <span class="keyword">in</span> $(seq 1 <span class="variable">$i</span>); <span class="keyword">do</span> <span class="built_in">echo</span> -ne <span class="variable">$i</span>Ã—<span class="variable">$j</span>=$((i*j))\\t;<span class="keyword">done</span>; <span class="built_in">echo</span>;<span class="keyword">done</span></div></pre></td></tr></table></figure>
<h1 id="A-cute-ponysay"><a href="#A-cute-ponysay" class="headerlink" title="A cute ponysay"></a>A cute ponysay</h1><p><img src="pony1.png" alt="pony picture1"></p>
<p><img src="pony2.png" alt="pony picture2"></p>
<p>Now is the moment to be quiet , just enjoy the beauty .</p>
<p>Install commands .</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ruby -e <span class="string">"<span class="variable">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)</span>"</span> &lt; /dev/null 2&gt; /dev/null</div></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">brew install ponysay</div></pre></td></tr></table></figure>
<p>Run it</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ponysay --quote</div></pre></td></tr></table></figure>
<p>Or run help for more</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ponysay -h</div></pre></td></tr></table></figure>
<h1 id="Cmatrix"><a href="#Cmatrix" class="headerlink" title="Cmatrix"></a>Cmatrix</h1><p><strong>The Matrix</strong> . How spectacular it is .</p>
<p><img src="matrix.gif" alt="matrix"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">brew install cmatrix</div></pre></td></tr></table></figure>
<p>More animation <a href="http://www.tecmint.com/20-funny-commands-of-linux-or-linux-is-fun-in-terminal/" target="_blank" rel="external">here</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;A set of ASCII pictures that enjoy code life though hard up .&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Sockets</title>
    <link href="http://stephenchen.com/2017/01/12/socket/"/>
    <id>http://stephenchen.com/2017/01/12/socket/</id>
    <published>2017-01-12T14:41:19.000Z</published>
    <updated>2017-01-23T01:22:35.000Z</updated>
    
    <content type="html"><![CDATA[<p>此篇轉自 CocoaAsyncSocket 的 <a href="https://github.com/robbiehanson/CocoaAsyncSocket/wiki/Intro" target="_blank" rel="external">Wiki</a> ， 介紹 Socket 的基本概要，並加上我自己個人的一些想法！</p>
<a id="more"></a>
<h1 id="Sockets-Ports-and-DNS-Oh-My"><a href="#Sockets-Ports-and-DNS-Oh-My" class="headerlink" title="Sockets, Ports, and DNS - Oh My!"></a>Sockets, Ports, and DNS - Oh My!</h1><p>以網路的術語，一台電腦可能擁有很多的 socket 端口。當兩台電腦要連結，比如從自己的桌機連到 yahoo 的主機，兩台電腦會建立一個連線，從使用者的 socket 端口到 yahoo 主機的 socket 端口，這條連線我們稱它為 <strong>Network connection</strong>。</p>
<p>要建立這條 Network connection，自己電腦的 socket 必須先得知 yahoo 主機的 socket 端口位置。知道位置才能進行連線，而每個 socket 的組成大致上區分為兩個區塊：一個是 <strong>Ip位址</strong> 另一個是 <strong>Port</strong>。</p>
<p>而一台主機可以擁有很多個 <strong>Ip位址</strong>，比如可以擁有網卡，數據機，WIFI卡，VPN連線跟藍芽連線…等。另外附帶一提，每台電腦都有一個介面是可以自己呼叫自己的網路介面，通常工程師稱他們為 <strong>localhost</strong>，術語則是 <strong>loopback</strong>。通常 loopback 是去 ping 這台電腦主機的虛擬網卡，一直一直 ping 自己的虛擬網卡，達到一個迴圈的概念，所以稱作 <strong>loopback</strong>。</p>
<p>那什麼是 DNS 呢。DNS 就好像一本電話簿一樣，如果你要打給某個人，但是你不知道他的電話，你可以打開電話簿來看他的電話號碼。用以上的例子來解釋。假如你要連上 google.com，那你的電腦會先到 DNS 去找 google.com 的 ip address，然後你自己電腦的 socket 就會得知 google.com 的 ip address，這樣就連上並且形成 Network connection。</p>
<h1 id="Networking"><a href="#Networking" class="headerlink" title="Networking"></a>Networking</h1><p>網路其實有時候不是很可靠的。當你發送一個新的<strong>請求</strong>出去的時候，封包有可能會透過 Wifi, 行動網路或者透過衛星系統。</p>
<p>所有網路傳遞在傳送和接收的時候都會被切割為很多小的封包，這些封包透過網路到達路由器之後再讓路由器決定這些封包要分配到哪。但是假如網路開始出現問題，封包越傳越多，路由器會開始超過他的負荷。這種很時常發生，所以路由器開始把一些來不及解析的封包丟掉。</p>
<p>此外也有可能是電腦自己把封包丟掉，當電腦超過負荷的時候，應用程式也有可能沒辦法這麼快速的讀取封包。或者有一些淺在的可能性當這些封包再傳輸的過程中被毀損了。</p>
<p>如果你剛開始接觸網路，當一切都很正常運行的時候，你會覺得這一切都是奇蹟。</p>
<h1 id="Bring-on-the-Protocols"><a href="#Bring-on-the-Protocols" class="headerlink" title="Bring on the Protocols"></a>Bring on the Protocols</h1><p>網路世界有一大堆的 Protocols (協議)，協議就好像是有一位女生答應我的告白，但是要成為她男朋友必須要有某些條件，比如我星期一，三，五要吃雞排。二，四，六要喝珍奶，必須要遵守這些條件才可以當她男朋友。那回到議題上，網路也是一樣，當我要建立 Network connection，那我首先要先遵守條件才可能建立連線，以下這些被列出來的 範例 (Protocols) 我們稱它為 <strong>應用層</strong></p>
<blockquote>
<p>HTTP, FTP, XMPP, POP, IMAP, SMTP, DHCP, DNS, VoIP, SIP, RTP, RTCP …etc</p>
</blockquote>
<p>但以上所有的 應用層 都是建立在另外一種 Protocols 上，我們稱它為 <strong>傳輸層</strong>。傳輸層是專門管理 網路方面的，但在這個 <strong>CocoaAsyncSocket專案</strong> 我們只會用到 <strong>UDP</strong> 跟 <strong>TCP</strong> 兩種。</p>
<h4 id="UDP"><a href="#UDP" class="headerlink" title="UDP"></a>UDP</h4><p><strong>User Datagram Protocol (UDP)</strong> 相對於 TCP 來說他比較簡單，UDP只能傳送比較小的封包，然後透過 socket 傳過去到指定目的地，然後…….沒了！就好像你出發到德國去，只買單程機票。而且也不保證順利到得了目的地。如果你傳送十個封包，然後也不保證他們是依照順序到達。但… UDP 缺點也是 UDP 的優點，比如今天你要打電話或者使用視訊功能，你不想要你的網路花時間在處理那些在中間不小心失去的封包，舉例來說今天你在觀看一位當紅主播的視屏，她表演了吃麵，過了一陣子表演了喝湯，如果這時候剛好吃麵的封包被解析回來了出現在喝湯的畫面，那不就變得很怪嗎？</p>
<p>UDP 還有另外一項優點，他並不用實作 <strong>Connection Handshake</strong>。Handshake 其實很複雜，但長話短說來解釋就是，互相確認一下雙方的個人資料。又舉了吃麵的例子，我今天到了麵店要點一碗陽春麵，我先批哩啪拉的問過老闆的身世，老闆幾歲啊？住哪啊？你有沒有女兒啊？先把一些該有的資訊都得到之後才說：我要一碗陽春麵，就不能直接說嗎？所以 UDP 不做 handshake 可以加速他來回通訊的時間，但缺點就是不安全。</p>
<h4 id="TCP"><a href="#TCP" class="headerlink" title="TCP"></a>TCP</h4><p><strong>Transmission Control Protocol (TCP)</strong>，這應該是我們最常用的協議了。當你上網，確認e-mail，或者聊天幾乎都在使用。</p>
<p>TCP 被設計專門給那些 <strong>較長的通訊</strong> 來使用，一開始 TCP 會先實作 <strong> Connection handshake</strong>，然後 封包便會開始傳遞。最棒的事情是 TCP 也被設計來專門連現在那些比較不穩定的網路上，他會做了很多 cool things for us 。比如你在傳送的途中失去了封包，程式會自己找出哪些封包失去並且重新傳送一次，而且保證你的訊息是一定會傳送到，而且也會依造順序傳送，不會像 UDP 一樣。</p>
<p>附帶一提，TCP 沒有傳送的上限。</p>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>看完之後 什麼時候開始用 TCP 什麼時候該使用 UDP，也許留點空間給你思考。接著當然要推薦一下 CocoaAsyncSocket 拉，他們其實提供很多很棒的 Api 讓你不用去思考網路方面的問題，但網路還是處處充滿危機。</p>
<h1 id="更多參考"><a href="#更多參考" class="headerlink" title="更多參考"></a>更多參考</h1><p><a href="https://en.wikipedia.org/wiki/Transmission_Control_Protocol" target="_blank" rel="external">Wiki</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;此篇轉自 CocoaAsyncSocket 的 &lt;a href=&quot;https://github.com/robbiehanson/CocoaAsyncSocket/wiki/Intro&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Wiki&lt;/a&gt; ， 介紹 Socket 的基本概要，並加上我自己個人的一些想法！&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Swift 3 Access Control with diagram</title>
    <link href="http://stephenchen.com/2016/12/21/swift-3-open-public-private-fileprivate/"/>
    <id>http://stephenchen.com/2016/12/21/swift-3-open-public-private-fileprivate/</id>
    <published>2016-12-21T10:28:39.000Z</published>
    <updated>2017-01-10T01:41:01.000Z</updated>
    
    <content type="html"><![CDATA[<p>A diagram for open, public, private, fileprivate access level</p>
<a id="more"></a>
<p><img src="swift3-access-control.png" alt="swift3-access-control"></p>
<p>In words</p>
<h1 id="open"><a href="#open" class="headerlink" title="open"></a>open</h1><ul>
<li>An open class is accessible and subclassable outside of the defining module. An open class member is accessible and overridable outside of the defining module.</li>
</ul>
<h1 id="public"><a href="#public" class="headerlink" title="public"></a>public</h1><ul>
<li>A public class is accessible but not subclassable outside of the defining module. A public class member is accessible but not overridable outside of the defining module.</li>
</ul>
<h1 id="private"><a href="#private" class="headerlink" title="private"></a>private</h1><ul>
<li>The private foo method is accessible only within the scope of the class A { … } definition. It is not even accessible from an extension to the type.</li>
</ul>
<h1 id="fileprivate"><a href="#fileprivate" class="headerlink" title="fileprivate"></a>fileprivate</h1><ul>
<li>The file-private bar method is accessible from the same source file.</li>
</ul>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><p><a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/AccessControl.html" target="_blank" rel="external">reference</a><br><a href="http://stackoverflow.com/questions/39027250/what-is-a-good-example-to-differentiate-between-fileprivate-and-private-in-swift/41261058#41261058" target="_blank" rel="external">Stack overflow about private and fileprivate</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;A diagram for open, public, private, fileprivate access level&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Swift Code Conventions Helper And Document Generator</title>
    <link href="http://stephenchen.com/2016/12/20/Swift-Code-Conventions-Helper-And-Documentor/"/>
    <id>http://stephenchen.com/2016/12/20/Swift-Code-Conventions-Helper-And-Documentor/</id>
    <published>2016-12-20T02:29:31.000Z</published>
    <updated>2016-12-20T08:44:30.000Z</updated>
    
    <content type="html"><![CDATA[<p>A way to cheat time from Project Manager</p>
<a id="more"></a>
<p>Code Conventions and Code Document had been part of my big problems , until <a href="https://realm.io/" target="_blank" rel="external">Realm</a> released two great tools which are <a href="https://github.com/realm/SwiftLint" target="_blank" rel="external">SwiftLint</a> and <a href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy</a></p>
<h1 id="Jazzy"><a href="#Jazzy" class="headerlink" title="Jazzy"></a>Jazzy</h1><p>A command-line utility that generates documentation for Swift or Objective-C . I will provide very simple use here</p>
<h4 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[sudo] gem install jazzy</div></pre></td></tr></table></figure>
<h4 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h4><p>Remember to replace the text inside angle brackets , assume you have <a href="https://cocoapods.org/" target="_blank" rel="external">cocoapods</a> install</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">jazzy \</div><div class="line">  --clean \</div><div class="line">  --xcodebuild-arguments -workspace,&lt;PROJECT&gt;.xcworkspace,-scheme,&lt;SCHEME&gt; \</div><div class="line">  --min-acl internal \</div><div class="line">  --author &lt;NAME&gt; \</div><div class="line">  --theme apple \</div><div class="line">  --author_url &lt;URL&gt; \</div><div class="line">  --github_url &lt;URL&gt; \</div><div class="line">  --module-version &lt;VERSION&gt; \</div><div class="line">  --output docs/index.html</div></pre></td></tr></table></figure>
<p>If you don’t have <a href="https://cocoapods.org/" target="_blank" rel="external">cocoapods</a> , change above code from<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">--xcodebuild-arguments -workspace,&lt;PROJECT&gt;.xcworkspace,-scheme,&lt;SCHEME&gt; \</div></pre></td></tr></table></figure></p>
<p>To<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">--xcodebuild-arguments -project,&lt;PROJECT&gt;.xcodeproj,-scheme,&lt;SCHEME&gt; \</div></pre></td></tr></table></figure></p>
<h4 id="Success"><a href="#Success" class="headerlink" title="Success"></a>Success</h4><p>♪♫ ♪♫ ♪♫ ♪♫  </p>
<p><img src="jazzy.gif" alt="jszzy"></p>
<p>Fro advance usage and more detail , please head to <a href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy</a> or type jazzy -h</p>
<h1 id="SwiftLint"><a href="#SwiftLint" class="headerlink" title="SwiftLint"></a>SwiftLint</h1><p>A tool to enforce Swift style and conventions. This is great for entire iOS team write a unified style code .</p>
<h4 id="Install-1"><a href="#Install-1" class="headerlink" title="Install"></a>Install</h4><p>Here use <a href="http://brew.sh/" target="_blank" rel="external">homebrew</a> to install<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">brew install swiftlint</div></pre></td></tr></table></figure></p>
<h4 id="Usage-1"><a href="#Usage-1" class="headerlink" title="Usage"></a>Usage</h4><p>Add below code to xcode run script , then run the project .</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> which swiftlint &gt;/dev/null; then</div><div class="line">    swiftlint</div><div class="line"><span class="keyword">else</span></div><div class="line">    echo <span class="string">"warning: SwiftLint not installed, download from https://github.com/realm/SwiftLint"</span></div><div class="line">fi</div></pre></td></tr></table></figure>
<p><img src="swiftlint.gif" alt="homebrew"></p>
<h4 id="Understanding"><a href="#Understanding" class="headerlink" title="Understanding"></a>Understanding</h4><p>You will probably see lots of warning and here I pick line 17 <strong>syntactic_sugar</strong> warning</p>
<p><img src="warning1.png" alt="warning picture"></p>
<p>First let us parse the warning . All the warning and error combine follow the syntax<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">description (rules_name)</div></pre></td></tr></table></figure></p>
<p>So this warning is call <strong>syntactic_sugar</strong> and <strong>“Shorthand syntactic sugar should be used, i.e. [Int] instead of Array<int>“</int></strong> is the description of <strong>syntactic_sugar</strong> , you can fix it by what description suggested .</p>
<h4 id="Customize-your-own"><a href="#Customize-your-own" class="headerlink" title="Customize your own"></a>Customize your own</h4><p>First: You can see all the rules <a href="https://github.com/realm/SwiftLint/tree/master/Source/SwiftLintFramework/Rules" target="_blank" rel="external">here</a></p>
<p>Second: Add .swiftlint.yml under the project folder , then copy the code and fill each respectively .</p>
<script src="https://gist.github.com/5SMNOONMS5/f25219b5407eba652063f161eb712782.js"></script>

<p>run again</p>
<p><img src="warning2.png" alt="warning2 picture"></p>
<p>see? The warning disappear , I add <strong>syntactic_sugar</strong> to disabled_rules .</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># rule identifiers to exclude from running</span></div><div class="line"><span class="attr">disabled_rules:</span></div><div class="line"><span class="bullet">  -</span> <span class="string">syntactic_sugar</span></div><div class="line"><span class="bullet">  -</span> <span class="string">colon</span></div><div class="line"><span class="bullet">  -</span> <span class="string">todo</span></div><div class="line"><span class="bullet">  -</span> <span class="string">empty_count</span></div><div class="line"><span class="bullet">  -</span> <span class="string">trailing_whitespace</span></div></pre></td></tr></table></figure>
<h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>It is always necessary to have effective tools .</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;A way to cheat time from Project Manager&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Fix &#39;&#39;Unrecognized selector sent to instance&#39;&#39; error</title>
    <link href="http://stephenchen.com/2016/12/16/unrecognized-selector-sent-to-instance-error/"/>
    <id>http://stephenchen.com/2016/12/16/unrecognized-selector-sent-to-instance-error/</id>
    <published>2016-12-16T03:37:09.000Z</published>
    <updated>2017-01-13T01:54:30.000Z</updated>
    
    <content type="html"><![CDATA[<p>Provide easy way to solve this horrible problem</p>
<a id="more"></a>
<p>While developing iOS application , you probably face this kind of error a lot</p>
<p><img src="error.png" alt="error picture"></p>
<p>The easiest way is create a exception breakpoint</p>
<p><img src="Step1.png" alt="Step1"></p>
<p><img src="Step2.png" alt="Step2"></p>
<p>Run and build , the breakpoint should stop at where caused this error .</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Provide easy way to solve this horrible problem&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Learning Vim</title>
    <link href="http://stephenchen.com/2016/11/24/Vim/"/>
    <id>http://stephenchen.com/2016/11/24/Vim/</id>
    <published>2016-11-24T02:28:41.000Z</published>
    <updated>2017-06-22T13:55:43.000Z</updated>
    
    <content type="html"><![CDATA[<p>a coding life with Vim</p>
<a id="more"></a>
<h1 id="OS-Environment"><a href="#OS-Environment" class="headerlink" title="OS Environment"></a>OS Environment</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">cat /etc/redhat-release</div><div class="line">CentOS release 6.7 (Final)</div></pre></td></tr></table></figure>
<h1 id="Search-available-VIM"><a href="#Search-available-VIM" class="headerlink" title="Search available VIM"></a>Search available VIM</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yum search vim</div></pre></td></tr></table></figure>
<p><img src="yum-search.png" alt="yum-search.png"></p>
<h1 id="Install-VIM"><a href="#Install-VIM" class="headerlink" title="Install VIM"></a>Install VIM</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"># choose one correspond to your os , for me chose vim-enhanced.x86_64</div><div class="line">yum install vim-enhanced.x86_64</div></pre></td></tr></table></figure>
<h1 id="Troubleshooting"><a href="#Troubleshooting" class="headerlink" title="Troubleshooting"></a>Troubleshooting</h1><h4 id="Vim-didn’t-display-correct-character"><a href="#Vim-didn’t-display-correct-character" class="headerlink" title="Vim didn’t display correct character"></a>Vim didn’t display correct character</h4><ul>
<li>sometimes I will type Chinese character in my file , if text is garbled.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">set</span> encoding=utf8</div></pre></td></tr></table></figure>
<ul>
<li>always add this line in /etc/vimrc for further use</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">echo</span> <span class="built_in">set</span> encoding=utf8 &gt;&gt; /etc/vimrc</div></pre></td></tr></table></figure>
<ul>
<li>Reference</li>
</ul>
<p><a href="http://www.cnblogs.com/Jack47/p/how-to-solve-garbled-vim-Linux.html" target="_blank" rel="external">Understand between termencoding, encoding, fileencoding, fileencodings</a></p>
<p>more setting information <a href="https://blog.gtwang.org/tips/vim-working-with-unicode/" target="_blank" rel="external">here</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;a coding life with Vim&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Network Diagnostic Tools</title>
    <link href="http://stephenchen.com/2016/11/18/network-diagnostic-tools/"/>
    <id>http://stephenchen.com/2016/11/18/network-diagnostic-tools/</id>
    <published>2016-11-18T09:51:00.000Z</published>
    <updated>2016-11-23T09:17:33.000Z</updated>
    
    <content type="html"><![CDATA[<p>Sometimes there will be unexpected while playing with servers , so here I will try three different network diagnostic tools to trace the package and guess what may be happened .</p>
<a id="more"></a>
<h1 id="1-Ping"><a href="#1-Ping" class="headerlink" title="1.Ping"></a>1.Ping</h1><h4 id="Synopsis"><a href="#Synopsis" class="headerlink" title="Synopsis"></a>Synopsis</h4><ul>
<li>The ping command is usually used as a simple way verify that a computer can communicate over the network with another computer or network device.</li>
</ul>
<p><img src="ping.png" alt="ping"></p>
<ul>
<li>In above example , the ping command is used to ping the hostname www.google.com . The report tells me each ICMP echo request message sent to www.google.com was returned successful.</li>
</ul>
<p><img src="ping-DDos.png" alt="ping-DDos"></p>
<div class="tip"><br>    Don’t try to use -f (Flood) option , some firewalls or hosts can believe it’s a DoS attack and drop the icmp packets silently.<br></div>

<h1 id="2-MTR"><a href="#2-MTR" class="headerlink" title="2.MTR"></a>2.MTR</h1><h4 id="Synopsis-1"><a href="#Synopsis-1" class="headerlink" title="Synopsis"></a>Synopsis</h4><ul>
<li><a href="http://www.bitwizard.nl/mtr/" target="_blank" rel="external">MTR</a> combines the functionality of the <a href="https://en.wikipedia.org/wiki/Traceroute" target="_blank" rel="external">Traceroute</a> and <a href="https://www.lifewire.com/ping-command-2618099" target="_blank" rel="external">Ping</a> programs in a single network diagnostic tool.</li>
</ul>
<h4 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">brew install mtr</div></pre></td></tr></table></figure>
<h4 id="Export-environment-variable-for-further-use"><a href="#Export-environment-variable-for-further-use" class="headerlink" title="Export environment variable for further use"></a>Export environment variable for further use</h4><ul>
<li>After install via <a href="http://brew.sh/" target="_blank" rel="external">Homebrew</a> , <a href="http://www.bitwizard.nl/mtr/" target="_blank" rel="external">MTR</a> will locate under <strong>/usr/local/sbin/</strong> folder .</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">export</span> PATH=<span class="string">"<span class="variable">$PATH</span>"</span>:/usr/<span class="built_in">local</span>/sbin/</div></pre></td></tr></table></figure>
<h4 id="MTR-Sample"><a href="#MTR-Sample" class="headerlink" title="MTR Sample"></a>MTR Sample</h4><p><img src="mtr-sample.png" alt="mtr-sample"></p>
<ul>
<li>Above you can see all packets of data travelling from my host to destination host . Unfortunately, I don’t want to dig this here . If you want learn more , please go  <a href="https://www.linode.com/docs/networking/diagnostics/diagnosing-network-issues-with-mtr" target="_blank" rel="external">here</a>  </li>
</ul>
<h1 id="3-Traceroute"><a href="#3-Traceroute" class="headerlink" title="3.Traceroute"></a>3.Traceroute</h1><ul>
<li><a href="https://linux.die.net/man/8/traceroute" target="_blank" rel="external">Traceroute</a> print the route packets trace to network host</li>
</ul>
<p><img src="tracerouter.png" alt="tracerouter"></p>
<ul>
<li><p>Above you can see your all packets of data travelling just likes <a href="http://www.bitwizard.nl/mtr/" target="_blank" rel="external">MTR</a> , but one of the different part is you can see the router transfer inside one specify router . See No.7 ~ No.11 at above sample .</p>
</li>
<li><p>more reference <a href="https://www.digitalocean.com/community/tutorials/how-to-use-traceroute-and-mtr-to-diagnose-network-issues" target="_blank" rel="external">DigitalOcean</a> , <a href="https://shapeshed.com/unix-traceroute/" target="_blank" rel="external">here</a>.</p>
</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Sometimes there will be unexpected while playing with servers , so here I will try three different network diagnostic tools to trace the package and guess what may be happened .&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Running Xcode From Command Line Tool</title>
    <link href="http://stephenchen.com/2016/10/25/Developing-With-Xcodebuild/"/>
    <id>http://stephenchen.com/2016/10/25/Developing-With-Xcodebuild/</id>
    <published>2016-10-25T09:46:26.000Z</published>
    <updated>2016-10-27T07:29:32.000Z</updated>
    
    <content type="html"><![CDATA[<p>Speed up iOS development process via Command Line Tools <strong>xcodebuild</strong> and <strong>xcbuild</strong></p>
<a id="more"></a>
<h4 id="Check-xcodebuild-exists"><a href="#Check-xcodebuild-exists" class="headerlink" title="Check xcodebuild exists"></a>Check xcodebuild exists</h4><ul>
<li><p>Here provide two way to check，listing 1：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ find /usr/bin -name xcodebuild</div></pre></td></tr></table></figure>
</li>
<li><p>Listing 2：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">which</span> xcodebuild</div></pre></td></tr></table></figure>
</li>
<li><p>If <strong>xcodebuild</strong> nonexist，run this</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ xcode-select --install</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="Detail-of-xcodebuild"><a href="#Detail-of-xcodebuild" class="headerlink" title="Detail of xcodebuild"></a>Detail of xcodebuild</h4><ul>
<li>Actually there is a <a href="https://developer.apple.com/legacy/library/documentation/Darwin/Reference/ManPages/man1/xcodebuild.1.html" target="_blank" rel="external">comprehensive analysis of xcodebuild</a>，or through the output of <strong>man xcodebuild</strong></li>
</ul>
<h4 id="First-check-sdks-and-destination"><a href="#First-check-sdks-and-destination" class="headerlink" title="First check sdks and destination"></a>First check sdks and destination</h4><ul>
<li><p>Outcomes will add behind the xcodebuild <strong>-sdk</strong> parameter</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ xcodebuild -showsdks</div></pre></td></tr></table></figure>
</li>
<li><p>Outcomes will add behind the xcodebuild <strong>-destination</strong> parameter</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ instruments -s devices</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="With-simulator"><a href="#With-simulator" class="headerlink" title="With simulator"></a>With simulator</h4><blockquote>
<p>Remember to replace -destination . -sdk and <yourname>.xcworkspace with your own</yourname></p>
</blockquote>
<ul>
<li>Change working directory to the directory that contains <yourname>.xcworkspace or <yourname>.xcodeproj</yourname></yourname></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$ xcodebuild \</div><div class="line">  -sdk iphonesimulator10.0 \</div><div class="line">  -workspace <span class="string">"&lt;YourName&gt;.xcworkspace"</span> \</div><div class="line">  -scheme <span class="string">"&lt;YourName&gt;"</span> \</div><div class="line">  -destination <span class="string">'platform=iOS Simulator,name=iPhone 6,OS=10.0'</span> \</div><div class="line">  -configuration <span class="string">"Debug"</span> \</div><div class="line">  <span class="built_in">test</span></div></pre></td></tr></table></figure>
<h4 id="Xcodebuild-with-xcpretty-highly-recommend"><a href="#Xcodebuild-with-xcpretty-highly-recommend" class="headerlink" title="Xcodebuild with xcpretty (highly recommend)"></a>Xcodebuild with xcpretty (highly recommend)</h4><ul>
<li><p><a href="https://github.com/supermarin/xcpretty" target="_blank" rel="external">Xcodebuild</a> make your xcodebuild output more readable，following line to see the usage of <strong>xcpretty</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ xcpretty --h</div></pre></td></tr></table></figure>
</li>
<li><p>Combine <strong>xcodebuild</strong> and <strong>xcpretty</strong> sample</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$ xcodebuild \</div><div class="line">  -sdk iphonesimulator10.0 \</div><div class="line">  -workspace <span class="string">"&lt;YourName&gt;.xcworkspace"</span> \</div><div class="line">  -scheme <span class="string">"&lt;YourName&gt;"</span> \</div><div class="line">  -destination <span class="string">'platform=iOS Simulator,name=iPhone 6,OS=10.0'</span> \</div><div class="line">  -configuration <span class="string">"Debug"</span> \</div><div class="line">  <span class="built_in">test</span> | xcpretty -t -c -r html &amp;&amp; open -a Google\ Chrome.app build/reports/tests.html</div></pre></td></tr></table></figure>
</li>
<li><p>You can also <strong>pipe</strong> above command with other commands such as <strong>open -a Google\ Chrome.app</strong></p>
</li>
</ul>
<h4 id="Build-the-archive"><a href="#Build-the-archive" class="headerlink" title="Build the archive"></a>Build the archive</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$ xcodebuild</div><div class="line">  -workspace &lt;YourName&gt;.xcworkspace</div><div class="line">  -scheme &lt;YourName&gt;</div><div class="line">  -sdk iphoneos</div><div class="line">  -configuration AppStoreDistribution archive</div><div class="line">  -archivePath ./build/&lt;YourName&gt;.xcarchive</div></pre></td></tr></table></figure>
<h4 id="Export-ipa-file"><a href="#Export-ipa-file" class="headerlink" title="Export .ipa file"></a>Export .ipa file</h4><p><a href="http://stackoverflow.com/questions/32763288/ios-builds-ipa-creation-no-longer-works-from-the-command-line" target="_blank" rel="external">iOS builds / ipa creation no longer works from the command line</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Speed up iOS development process via Command Line Tools &lt;strong&gt;xcodebuild&lt;/strong&gt; and &lt;strong&gt;xcbuild&lt;/strong&gt;&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
</feed>
