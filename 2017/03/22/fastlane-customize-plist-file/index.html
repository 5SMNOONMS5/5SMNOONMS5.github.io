<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Integrate fastlane save your time . Â· CLS</title><meta name="description" content="Integrate fastlane save your time . - Stephen Chen"><meta name="viewport" content="width=device-width, initial-scale=2"><link rel="short icon" href="/img/earth.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://stephenchen.com/atom.xml" title="CLS"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/img/earth.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="/about" target="_self" class="nav-list-link">ABOUT</a></li><li class="nav-list-item"><a href="https://github.com/5SMNOONMS5" target="_blank" class="nav-list-link"><img src="/img/github.png" alt="GitHub" style="width: 15px;"></a></li><li class="nav-list-item"><a href="http://stackoverflow.com/users/3672927/stephen-chen?tab=profile" target="_blank" class="nav-list-link"><img src="/img/stackoverflow.png" alt="Stack Overflow" style="width: 16px;"></a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link"><img src="/img/rss.png" alt="Rss" style="width: 14px;"></a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">Integrate fastlane save your time .</h1><div class="post-info">Mar 22, 2017</div><div class="post-content"><p>fastlane + script ä¸€éµç”¢å‡ºå¤šç¨® .ipa æª”ã€‚</p>
<a id="more"></a>
<h4 id="ä½¿ç”¨ç’°å¢ƒ"><a href="#ä½¿ç”¨ç’°å¢ƒ" class="headerlink" title="ä½¿ç”¨ç’°å¢ƒ"></a>ä½¿ç”¨ç’°å¢ƒ</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">macOS Sierra</div></pre></td></tr></table></figure>
<h1 id="è‡ªèº«é¢è‡¨çš„æƒ…æ³"><a href="#è‡ªèº«é¢è‡¨çš„æƒ…æ³" class="headerlink" title="è‡ªèº«é¢è‡¨çš„æƒ…æ³"></a>è‡ªèº«é¢è‡¨çš„æƒ…æ³</h1><p>å› å·¥ä½œæ‰€éœ€ï¼Œéœ€è¦ç™¼å¸ƒ <strong>ä¼æ¥­å…§éƒ¨ä½¿ç”¨</strong>ï¼Œä¸¦æ‰“åŒ…æˆä¸åŒå½¢å¼çš„ .ipa ä¸Šæ¶æ“‹æ¡ˆã€‚æ›å¥è©±èªªï¼Œå‡è¨­æˆ‘è¦ç”¢ç”Ÿ 10 å€‹ æ“æœ‰ä¸åŒ Info.plist çš„ .ipa æª”æ¡ˆï¼Œå¦‚æœæ‰‹å‹•çš„è©±æˆ‘ä¸å°±è¦æ”¹åˆ°æ­»äº†ï¼Ÿæ¯æ¬¡ Archive éƒ½è¦ç­‰å¾ˆä¹…ï¼Œç„¶å¾ŒçµæŸä¹‹å¾Œåœ¨æ”¹ Info.plist ä¸Šçš„åƒæ•¸ç„¶å¾Œå† Archive ç„¶å¾Œå†ä¸Šæ¶ã€‚</p>
<h1 id="æœ¬ç¯‡åˆ†äº«æ¦‚è¦"><a href="#æœ¬ç¯‡åˆ†äº«æ¦‚è¦" class="headerlink" title="æœ¬ç¯‡åˆ†äº«æ¦‚è¦"></a>æœ¬ç¯‡åˆ†äº«æ¦‚è¦</h1><p>å› ç‚ºå®˜æ–¹æ–‡æª”å…¶å¯¦éå¸¸è©³ç´°ï¼Œæ‰€ä»¥é€™é‚Šåªåˆ†äº«å¤§è‡´æµç¨‹ï¼Œä¸¦ä¸æ‰“ç®—å¯«çš„å¤ªè©³ç´°ã€‚</p>
<h1 id="å¦‚ä½•è‡ªå‹•ä¸Šæ¶"><a href="#å¦‚ä½•è‡ªå‹•ä¸Šæ¶" class="headerlink" title="å¦‚ä½•è‡ªå‹•ä¸Šæ¶"></a>å¦‚ä½•è‡ªå‹•ä¸Šæ¶</h1><p>ç›®å‰iOSæˆ‘çŸ¥é“æ‰“åŒ…é™¤äº†æ‰‹å‹•ä¹‹å¤–ï¼Œé‚„æœ‰å¹¾ç¨®æ–¹å¼åˆ†åˆ¥æ˜¯<a href="https://developer.apple.com/legacy/library/documentation/Darwin/Reference/ManPages/man1/xcodebuild.1.html" target="_blank" rel="external">xcodebuild</a>å’Œ<a href="https://github.com/facebook/xctool" target="_blank" rel="external">xctool</a>ï¼Œè€Œä»Šå¤©è¦ä½¿ç”¨çš„æ˜¯æŠŠé€™äº›ç¥å™¨æ‰“åŒ…å¥½çš„ç¥å™¨ <a href="https://fastlane.tools/" target="_blank" rel="external">fastlane</a></p>
<h1 id="å¦‚ä½•è‡ªå‹•æ›´æ–°-Info-plist-çš„åƒæ•¸"><a href="#å¦‚ä½•è‡ªå‹•æ›´æ–°-Info-plist-çš„åƒæ•¸" class="headerlink" title="å¦‚ä½•è‡ªå‹•æ›´æ–° Info.plist çš„åƒæ•¸"></a>å¦‚ä½•è‡ªå‹•æ›´æ–° Info.plist çš„åƒæ•¸</h1><p>é€™é‚Šæˆ‘æ‰“ç®—ä½¿ç”¨ <a href="https://www.gnu.org/software/sed/manual/sed.txt" target="_blank" rel="external">sed</a> ä¾†å®Œæˆæ›¿æ› Info.plist å…§éƒ¨åƒæ•¸ã€‚</p>
<p>é™„å¸¶ä¸€æï¼Œé€™é‚Šæƒ…æ³é©ç”¨æˆ‘è‡ªå·±è€Œå·²ï¼Œå…¶å¯¦ä»»ä½•åœ¨å°ˆæ¡ˆå…§éƒ¨çš„æª”æ¡ˆï¼Œåœ–ç‰‡éƒ½å¯ä»¥é€²è¡Œè®Šæ›´ï¼ŒåŒ…æ‹¬ä¸Šæ¶åˆ° AppStoreï¼ŒScreenshotï¼ŒTestï¼Œç®¡ç†è­‰æ›¸éƒ½å¯ä»¥ã€‚Itâ€™s all depending on you.</p>
<h1 id="çµåˆå…©è€…-Fastlane-Script"><a href="#çµåˆå…©è€…-Fastlane-Script" class="headerlink" title="çµåˆå…©è€… Fastlane + Script"></a>çµåˆå…©è€… Fastlane + Script</h1><h4 id="æ­¥é©Ÿ1ï¼šå®Œæˆ-Fastlane-çš„å®‰è£"><a href="#æ­¥é©Ÿ1ï¼šå®Œæˆ-Fastlane-çš„å®‰è£" class="headerlink" title="æ­¥é©Ÿ1ï¼šå®Œæˆ Fastlane çš„å®‰è£"></a>æ­¥é©Ÿ1ï¼šå®Œæˆ Fastlane çš„å®‰è£</h4><ul>
<li>å®‰è£ homebrew</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/usr/bin/ruby <span class="_">-e</span> <span class="string">"<span class="variable">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)</span>"</span></div></pre></td></tr></table></figure>
<ul>
<li>é€é homebrew ä¾†å®‰è£ fastlane</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">brew cask install fastlane</div></pre></td></tr></table></figure>
<h4 id="æ­¥é©Ÿ2ï¼šFastlane-çš„åˆå§‹åŒ–è¨­å®š"><a href="#æ­¥é©Ÿ2ï¼šFastlane-çš„åˆå§‹åŒ–è¨­å®š" class="headerlink" title="æ­¥é©Ÿ2ï¼šFastlane çš„åˆå§‹åŒ–è¨­å®š"></a>æ­¥é©Ÿ2ï¼šFastlane çš„åˆå§‹åŒ–è¨­å®š</h4><ul>
<li>ç¬¬ä¸€ç¨®ï¼š(å»ºè­°ï¼‰</li>
</ul>
<blockquote>
<p>é€é <a href="https://fabric.io/features/distribution?utm_campaign=github_readme" target="_blank" rel="external">å®˜æ–¹</a>æä¾›çš„æ–‡æª”ä¾†ç”¢ç”Ÿåˆå§‹åŒ–çš„ç¨‹å¼ç¢¼</p>
</blockquote>
<ul>
<li>ç¬¬äºŒç¨®ï¼šé–‹å•Ÿ Terminal åˆ°ç•¶å‰ iOS çš„è³‡æ–™å¤¾ä¸‹ï¼Œä¸¦ä¸”è·Ÿè‘—è¼¸å…¥å¸³è™Ÿè·Ÿç›¸é—œçš„è³‡æ–™</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">fastlane init</div></pre></td></tr></table></figure>
<p><img src="fastlaneinit2.png" alt="fastlaneinit2.png"></p>
<p>é‚£å…©ç¨®å“ªé‚Šä¸ä¸€æ¨£å‘¢ï¼Ÿï¼Œç¬¬ä¸€ç¨®å…¶å¯¦å·²ç¶“å¹«ä½ æŠŠç¨‹å¼ç¢¼åˆå§‹åŒ–äº†ï¼Œè®“ä½ å°‘å»æ¯”è¼ƒå¤šçš„æ­¥é©Ÿï¼Œæ¥è‘—æˆ‘å€‘æ‰“é–‹ <strong>Fastlane</strong> ä¾†çœ‹ä¸€ä¸‹çš„ Codeã€‚</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line">fastlane_version <span class="string">"1.109.0"</span></div><div class="line"></div><div class="line">generated_fastfile_id <span class="string">"adb8dedb-e633-43f6-87b0-03588e2f5a43"</span></div><div class="line"></div><div class="line">default_platform <span class="symbol">:ios</span></div><div class="line"></div><div class="line"><span class="comment"># åŸæœ¬çš„</span></div><div class="line">lane <span class="symbol">:beta</span> <span class="keyword">do</span></div><div class="line"></div><div class="line">  <span class="comment"># build your iOS app</span></div><div class="line">  gym(</div><div class="line">    <span class="comment"># scheme: "YourScheme"</span></div><div class="line">  )</div><div class="line"></div><div class="line">  <span class="comment"># upload to Beta by Crashlytics</span></div><div class="line">  crashlytics(</div><div class="line">    <span class="comment"># api_token: "YOUR_API_KEY",</span></div><div class="line">    <span class="comment"># build_secret: "YOUR_BUILD_SECRET"</span></div><div class="line">  )</div><div class="line"></div><div class="line">  <span class="comment"># slack(</span></div><div class="line">  <span class="comment">#   slack_url: "https://hooks.slack.com/services/IDS"</span></div><div class="line">  <span class="comment"># )</span></div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line"><span class="comment"># è‡ªå®šç¾©åç¨±æˆ‘åœ¨é€™é‚Šè‡ªå®šç¾©åç¨±ç‚º BABABA</span></div><div class="line">lane <span class="symbol">:BABABA</span> <span class="keyword">do</span></div><div class="line"></div><div class="line">  æ–¹æ³•<span class="number">1</span>(</div><div class="line">    åƒæ•¸å<span class="number">1</span>: <span class="string">"åƒæ•¸å€¼1"</span></div><div class="line">  )</div><div class="line"></div><div class="line">  æ–¹æ³•<span class="number">2</span>(</div><div class="line">    åƒæ•¸å<span class="number">1</span>: <span class="string">"åƒæ•¸å€¼1"</span>,</div><div class="line">    åƒæ•¸å<span class="number">2</span>: <span class="string">"åƒæ•¸å€¼2"</span>,</div><div class="line">    åƒæ•¸å<span class="number">3</span>: <span class="string">"åƒæ•¸å€¼3"</span>,</div><div class="line">  )</div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<p>å…¶å¯¦ä»–çš„å…¬å¼éå¸¸ç°¡å–®ï¼Œå°±æ˜¯æŠŠä¸Šé¢æˆ‘æ‰“ä¸­æ–‡çš„åœ°æ–¹æ›¿æ›æˆæ‰€éœ€è¦çš„åƒæ•¸ï¼Œä½ å¯ä»¥æƒ³åƒæˆå®£å‘Šä¸€å€‹Classï¼Œç„¶å¾Œè£¡é¢çµ¦äºˆä»–nå€‹ key:value å‹æ…‹çš„è®Šæ•¸ï¼Œé‚£<strong>æ–¹æ³•</strong>æœ‰å“ªäº›å‘¢ï¼Ÿä¾é€ å®˜æ–¹æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚ <strong>deliver</strong> æˆ–è€… <strong>supply</strong> ä¹‹é¡çš„â€¦ï¼Œä»¥ä¸‹æ˜¯æ‰€æœ‰çš„ actions åˆ—è¡¨</p>
<p><img src="allactions.png" alt="allactions"></p>
<p>é€™é‚Šç¿»è­¯å®˜æ–¹çš„å¹¾å€‹æ¯”è¼ƒå¸¸ç”¨çš„ Commands</p>
<table>
<thead>
<tr>
<th style="text-align:left">Commands</th>
<th style="text-align:right">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">fastlane actions</td>
<td style="text-align:right">æŠŠæ‰€æœ‰çš„actionsåˆ—å‡ºä¾†</td>
</tr>
<tr>
<td style="text-align:left">fastlane lanes</td>
<td style="text-align:right">æŠŠæ‰€æœ‰åœ¨ Fastlane æª”æ¡ˆåº•ä¸‹çš„ lane å’Œ æè¿°åˆ—å‡ºä¾†</td>
</tr>
<tr>
<td style="text-align:left">fastlane list</td>
<td style="text-align:right">åŒä¸Šï¼Œä½†æ˜¯ä¸æŠŠæè¿°åˆ—å‡ºä¾†</td>
</tr>
<tr>
<td style="text-align:left">fastlane new_action</td>
<td style="text-align:right">å‰µé€ ä¸€å€‹æ–°çš„ actions</td>
</tr>
<tr>
<td style="text-align:left">fastlane env</td>
<td style="text-align:right">é€™æ˜¯ç•¶ä½ æœ‰å•é¡Œçš„æ™‚å€™ï¼Œå¯ä»¥å¹«ä½ æŠŠç’°å¢ƒå¿«é€Ÿçš„åˆ—å‡ºä¾†å¥½æ”¾åˆ° issue çµ¦åˆ¥äººçœ‹</td>
</tr>
</tbody>
</table>
<p>å¦å¤–ç¿»è­¯å®˜æ–¹é‡é» actionsï¼Œå¤–åŠ å¹¾å€‹æˆ‘æ„Ÿè¦ºæ¯”è¼ƒå¸¸ç”¨çš„ï¼ ï¼ </p>
<table>
<thead>
<tr>
<th style="text-align:left">å¸¸ç”¨Actionsåç¨±</th>
<th style="text-align:right">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">deliver</td>
<td style="text-align:right">ä¸Šå‚³screenshotsï¼Œmetadataåˆ° App Store</td>
</tr>
<tr>
<td style="text-align:left">supply</td>
<td style="text-align:right">ä¸Šå‚³ Android appï¼Œmetadataåˆ° Google Play</td>
</tr>
<tr>
<td style="text-align:left">snapshot</td>
<td style="text-align:right">è‡ªå‹•å¹«ä½ åœ¨åœ°åŒ–çš„æ–¹å¼æ‹ç…§ï¼Œæ”¯æ´ iOS and tvOS</td>
</tr>
<tr>
<td style="text-align:left">screengrab</td>
<td style="text-align:right">è‡ªå‹•å¹«ä½ çš„ Android App åœ¨åœ°åŒ–çš„æ–¹å¼æ‹ç…§ï¼Œæ”¯æ´ iOS and tvOS</td>
</tr>
<tr>
<td style="text-align:left">frameit</td>
<td style="text-align:right">å¹«ä½ æŠŠ screenshots æ”¾åˆ°æ­£ç¢ºçš„æ©Ÿå‹</td>
</tr>
<tr>
<td style="text-align:left">pem</td>
<td style="text-align:right">è‡ªå‹•å¹«ä½ ç”¢ç”Ÿå’Œæ›´æ–°æ¨æ’­æ†‘è­‰</td>
</tr>
<tr>
<td style="text-align:left">sigh</td>
<td style="text-align:right">ç”¢ç”Ÿ provisioning profile</td>
</tr>
<tr>
<td style="text-align:left">produce</td>
<td style="text-align:right">è‡ªå‹•ç”¢ç”Ÿæ–°çš„ iOS App åœ¨iTunes Connect</td>
</tr>
<tr>
<td style="text-align:left">cert</td>
<td style="text-align:right">è‡ªå‹•ç”¢ç”Ÿè·Ÿç®¡ç† iOS code signing certificates</td>
</tr>
<tr>
<td style="text-align:left">spaceship</td>
<td style="text-align:right">ä¸€å€‹å¯ä»¥å­˜å– Apple Dev Center and iTunes Connect çš„ Ruby å‡½å¼åº«</td>
</tr>
<tr>
<td style="text-align:left">pilot</td>
<td style="text-align:right">ç®¡ç† TestFlight çš„ä½¿ç”¨è€…</td>
</tr>
<tr>
<td style="text-align:left">boarding</td>
<td style="text-align:right">é‚€è«‹æ–°ä½¿ç”¨è€…åˆ° TestFlight</td>
</tr>
<tr>
<td style="text-align:left">gym</td>
<td style="text-align:right">è‡ªå‹•ç”¢ç”Ÿ .ipa æª”æ¡ˆ</td>
</tr>
<tr>
<td style="text-align:left">match</td>
<td style="text-align:right">ç”¨gitä¾†åŒæ­¥æ†‘è­‰å’Œè­‰æ›¸ï¼Œè§£æ±ºå¤šäººé–‹ç™¼å•é¡Œ</td>
</tr>
<tr>
<td style="text-align:left">scan</td>
<td style="text-align:right">è·‘å°ˆæ¡ˆçš„æ¸¬è©¦</td>
</tr>
<tr>
<td style="text-align:left">slack</td>
<td style="text-align:right">å° slack é€²è¡Œé€šçŸ¥</td>
</tr>
</tbody>
</table>
<p>é‚£<strong>æ–¹æ³•çš„åƒæ•¸</strong>æœ‰å“ªäº›å‘¢ï¼Ÿè«‹åœ¨ Terminal æ‰“ä¸Š <strong>fastlane action [æ–¹æ³•]</strong>ï¼Œæ¯”å¦‚æˆ‘æƒ³è¦çœ‹ <strong>supply</strong> æœ‰å“ªäº›åƒæ•¸ï¼Œé‚£å°±</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">fastlane action supply</div></pre></td></tr></table></figure>
<p><img src="parameters.png" alt="parameters"></p>
<p>åƒæˆ‘è‡ªå·±è¦ç”¢ç”Ÿ ipa æª”æ¡ˆçš„è©±å°±è¦çœ‹ <strong>gym</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">fastlane action gym</div></pre></td></tr></table></figure>
<p><img src="gym.png" alt="gym"></p>
<p>æ¥è‘—å°±æ…¢æ…¢çœ‹å›‰ï½æƒ³è¦ä»€éº¼å°±æ‰“ä»€éº¼éœ€è¦ä»€éº¼å°±æ‰“ä»€éº¼ã€‚åœ¨ä¾åºå¡«å…¥åˆ°ä¸Šé¢çš„å…¬å¼</p>
<h4 id="æ­¥é©Ÿ3ï¼šåŸ·è¡Œ-Fastlane"><a href="#æ­¥é©Ÿ3ï¼šåŸ·è¡Œ-Fastlane" class="headerlink" title="æ­¥é©Ÿ3ï¼šåŸ·è¡Œ Fastlane"></a>æ­¥é©Ÿ3ï¼šåŸ·è¡Œ Fastlane</h4><p>fastlane [å…¬å¼åç¨±]ï¼Œå¦‚ä¸Šåœ–æˆ‘çš„åç¨±æ˜¯ <strong>BABABA</strong>ï¼Œé‚£å°±åœ¨çµ‚ç«¯æ©Ÿä¸Šæ‰“ä»¥ä¸‹æŒ‡ä»¤</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">fastlane BABABA</div></pre></td></tr></table></figure>
<p>é€™é‚Šä¹Ÿè¨±æœƒé‡åˆ°ä¸€äº›ç’°å¢ƒå•é¡Œï¼Œä»¥åŠå®‰è£å•é¡Œï¼Œé€™æ™‚å€™å°±è¦ä¸€å€‹ä¸€å€‹è‡ªå·±å»è§£æ±ºäº†ï¼Œæ¯å€‹äººé‡åˆ°çš„å•é¡Œä¸å¤ªä¸€æ¨£ï¼Œå¯ä»¥ç•™è¨€åœ¨ä¸‹é¢äº’ç›¸è¨è«–ã€‚ä¸éæœ‰å€‹å•é¡Œæˆ‘ä¹Ÿè¦ºå¾—éå¸¸éº»ç…©ï¼Œæˆ‘æŠŠé€™å•é¡Œå¯«åœ¨æœ€ä¸‹é¢çš„ TroubleShooting éƒ¨åˆ†</p>
<h4 id="æ­¥é©Ÿ4ï¼šè·Ÿè‘—ç¯„ä¾‹èµ°"><a href="#æ­¥é©Ÿ4ï¼šè·Ÿè‘—ç¯„ä¾‹èµ°" class="headerlink" title="æ­¥é©Ÿ4ï¼šè·Ÿè‘—ç¯„ä¾‹èµ°"></a>æ­¥é©Ÿ4ï¼šè·Ÿè‘—ç¯„ä¾‹èµ°</h4><p>é€™é‚Šæœ‰å¾ˆå¤šé–‹æºåˆ†äº«ä»–å€‘çš„ Fastlane é–‹æºæª”æ¡ˆã€‚</p>
<p><a href="https://github.com/fastlane/examples" target="_blank" rel="external">Examples</a></p>
<h4 id="æ­¥é©Ÿ5ï¼šå¾ªç’°æ­¥é©Ÿ4"><a href="#æ­¥é©Ÿ5ï¼šå¾ªç’°æ­¥é©Ÿ4" class="headerlink" title="æ­¥é©Ÿ5ï¼šå¾ªç’°æ­¥é©Ÿ4"></a>æ­¥é©Ÿ5ï¼šå¾ªç’°æ­¥é©Ÿ4</h4><p>é€™é‚Šä¸€å®šè¦æƒ³æˆåŠŸï¼Œä¸ç„¶ä¹‹å¾Œå†çµåˆ script çš„æ™‚å€™å•é¡Œæœƒæ›´å¤šã€‚</p>
<h1 id="Script"><a href="#Script" class="headerlink" title="Script"></a>Script</h1><p>é€™éƒ¨åˆ†å°±æ¯”è¼ƒç°¡å–®äº†ï¼Œæˆ‘æŠŠ code æ”¾åœ¨ <a href="https://github.com/5SMNOONMS5/TestFastlane" target="_blank" rel="external">github</a> ä¸Šã€‚å¤§è‡´æ¶æ§‹åœ–å¦‚ä¸‹</p>
<p><img src="bash_architecture.png" alt="bash_architecture"></p>
<p>é€™é‚Šçš„æ¶æ§‹æ˜¯æ‰€æœ‰è·Ÿ <strong>script</strong> ç›¸é—œçš„ .sh æª”æ¡ˆéƒ½æœƒåœ¨ script è³‡æ–™å¤¾åº•ä¸‹ï¼Œé€é <a href="https://www.gnu.org/software/sed/manual/sed.txt" target="_blank" rel="external">sed</a> æœƒå»åŸ·è¡Œè®Šæ›´ Info.plish æª”æ¡ˆè£¡é¢çš„è®Šæ•¸ï¼Œåƒæ•¸è¨­å®šå‰‡æ˜¯æ”¾åœ¨ <strong>script/config</strong> è£¡é¢ã€‚</p>
<p>åœ¨çµ‚ç«¯æ©Ÿåº•ä¸‹åŸ·è¡Œ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># å…ˆcdåˆ° script ç›®éŒ„è³‡æ–™å¤¾åº•ä¸‹ï¼Œå…ˆçœ‹çœ‹æä¾›äº†ä»€éº¼æ–¹æ³•</span></div><div class="line">sh archive -h</div><div class="line"><span class="comment"># ç„¶å¾ŒåŸ·è¡Œ</span></div><div class="line">sh archive <span class="_">-s</span></div></pre></td></tr></table></figure>
<p><img src="archive.png" alt="archive"></p>
<h1 id="TroubleShooting"><a href="#TroubleShooting" class="headerlink" title="TroubleShooting"></a>TroubleShooting</h1><h4 id="Connection-reset-by-peer-SSL-connect"><a href="#Connection-reset-by-peer-SSL-connect" class="headerlink" title="Connection reset by peer - SSL_connect"></a>Connection reset by peer - SSL_connect</h4><p>å› ç‚ºæˆ‘çš„ ruby ç‰ˆæœ¬æ˜¯ 2.0.0ï¼Œè˜‹æœæœ€è¿‘æŠŠæœå‹™å™¨çš„TLSç‰ˆæœ¬æ›´æ–°åˆ° TLS 1.2ï¼Œåœ¨æˆ‘ç•¶å‰çš„ ruby æ˜¯ä¸æ”¯æŒçš„ï¼Œæ‰€ä»¥æˆ‘è¦æƒ³è¾¦æ³•å‡ç´šåˆ° æ”¯æ´ TLS 1.2çš„ ruby ç‰ˆæœ¬ã€‚</p>
<p><img src="opensslfail.png" alt="opensslfail.png"></p>
<p>åœ¨è§£æ±ºå•é¡Œä¹‹å‰ï¼Œæˆ‘æƒ³åˆ†äº«ä¸€äº›æˆ‘å€‹äººè¦ºå¾—è »éœ€è¦è¢«äº†è§£çš„åŸºç¤ï¼Œå°±æ˜¯å› ç‚ºæˆ‘ä¹Ÿå° ruby ä¸äº†è§£ï¼Œæ‰€ä»¥åƒäº†ä¸å°‘è™§åœ¨è§£æ±ºé€™å€‹å•é¡Œä¸Š</p>
<p>é¦–å…ˆå®‰è£ ruby å¯ä»¥é€é <a href="https://brew.sh/" target="_blank" rel="external">homebrew</a> ï¼Œ <a href="https://github.com/rbenv/rbenv" target="_blank" rel="external">rbenv</a> ä»¥åŠ <a href="https://rvm.io/" target="_blank" rel="external">rvm</a>ï¼Œä¸€å°é›»è…¦å¯èƒ½æœ‰å¾ˆå¤š ruby çš„ç‰ˆæœ¬å­˜åœ¨ï¼Œä½ å¿…é ˆè®“ä½ ç•¶å‰çš„ ruby ç‰ˆæœ¬ä½¿ç”¨å¯ä»¥æ”¯æ´ TLS 1.2 çš„ç‰ˆæœ¬ï¼Œä¸ç®¡ä½ æ˜¯ç”¨ä»€éº¼å¥—ä»¶å®‰è£ï¼Œä½†æˆ‘å€‹äººé€™é‚Šçš„å•é¡Œæ˜¯ç•¶åˆæˆ‘å¿˜è¨˜æˆ‘ç”¨ä»€éº¼ä¾†å®‰è£çš„ã€‚</p>
<p>å°æ–¼ä¸çŸ¥é“ç”¨ä»€éº¼ä¾†å®‰è£çš„å›§æƒ…æ³ï¼Œæˆ‘ç”¨äº†æœ€ç¬¨çš„æ–¹æ³•ä¾†æª¢æŸ¥æˆ‘æ˜¯ä¸æ˜¯æœ‰ä»¥ä¸Šä¸‰å€‹å¥—ä»¶<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># æª¢æŸ¥æ˜¯å¦æœ‰å®‰è£ rvm</span></div><div class="line">ls -al | grep .rvm</div><div class="line"><span class="comment"># æª¢æŸ¥æ˜¯å¦æœ‰å®‰è£ rbenv</span></div><div class="line">ls -al | grep .rbenv</div><div class="line"><span class="comment"># æª¢æŸ¥æ˜¯å¦ homebrew æœ‰å®‰è£ ruby</span></div><div class="line">brew list</div></pre></td></tr></table></figure></p>
<p>é€™ä¸‹å¥½äº†ï¼Œå¾ˆå¹¸é‹çš„æˆ‘ä¸¦æ²’æœ‰ä½¿ç”¨ brew å®‰è£ã€‚ä½†æˆ‘æœ‰å¯èƒ½æ˜¯ä½¿ç”¨ rvm æˆ–è€…æ˜¯ rbenv å®‰è£ã€‚ä¹‹å¾Œæˆ‘åˆå¥®é¬¥äº†å¾ˆä¹…ï¼ŸèŒ«èŒ«å¤§æµ·ä¹‹ä¸­ï¼Œæˆ‘çœ‹åˆ°äº†é€™æ®µ</p>
<blockquote>
<p>Hey everyone, weâ€™ve been working on a new way to install and use fastlane, all you have to do is to download <a href="https://kits-crashlytics-com.s3.amazonaws.com/fastlane/standalone/latest.zip" target="_blank" rel="external">fastlane.zip</a> and double click the install file. This will install fastlane with all its Ruby and OpenSSL dependencies, and should all work out of the box.<br>We just finished building this, and would love your early feedback on this beta. Please let us know how it works for you and if you run into any problems ğŸ‘<br>Download the latest version here.</p>
</blockquote>
<p>å¤§æ„å°±æ˜¯ä»–æŠŠ fastlane æ‰€éœ€è¦çš„ dependencies å…¨éƒ¨æ”¾åœ¨ <strong>~./fastlane/bin</strong> åº•ä¸‹ï¼Œé€™å°±æ˜¯æ•´å€‹ç¨‹å¼ï¼Œæœ‰é»é¡ä¼¼ docker çš„æ„Ÿè¦ºï¼Œå®‰è£å¥½ä¹‹å¾Œï¼Œæˆ‘çš„å•é¡Œä¹Ÿè§£æ±ºäº†ã€‚</p>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><p><a href="https://github.com/fastlane/fastlane/issues/6553" target="_blank" rel="external">Connection reset by peer</a></p>
<p><a href="https://github.com/fastlane/fastlane/issues/6758" target="_blank" rel="external">cert fails with error â€˜Connection reset by peer - SSL_connectâ€™</a></p>
</div></article></div></section><footer><div class="paginator"><a href="/2017/02/21/Transfer-Git-repositories-into-another-service/" class="next">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'seansun';
var disqus_identifier = '2017/03/22/fastlane-customize-plist-file/';
var disqus_title = 'Integrate fastlane save your time .';
var disqus_url = 'http://stephenchen.com/2017/03/22/fastlane-customize-plist-file/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//seansun.disqus.com/count.js" async></script><div class="copyright"><p>Â© 2015 - 2017 <a href="http://stephenchen.com">Stephen Chen</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>